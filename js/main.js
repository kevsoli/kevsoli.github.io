!function(t){function e(e){for(var n,r,h=e[0],o=e[1],l=e[2],u=0,p=[];u<h.length;u++)r=h[u],a[r]&&p.push(a[r][0]),a[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);for(c&&c(e);p.length;)p.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,h=1;h<i.length;h++){var o=i[h];0!==a[o]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={0:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var h=window.webpackJsonp=window.webpackJsonp||[],o=h.push.bind(h);h.push=e,h=h.slice();for(var l=0;l<h.length;l++)e(h[l]);var c=o;s.push([196,1]),i()}({193:function(t){t.exports={BUILD:{GAME_TITLE:"Kevin Soliman",VERSION:"0.0.1",WIDTH:1360,HEIGHT:768,BACKGROUND_COLOR:"0x000000",EXTERNAL_JS:["tweenjs.min.js","preloadjs.min.js"]}}},195:function(t,e){},196:function(t,e,i){"use strict";i.r(e);var n=i(0),a=(i(39),i(21)),s=i.n(a),r=["assets/images/ai_tile1.png","assets/images/ai_tile2.png","assets/images/ai_tile3.png","assets/images/ai_tile4.png","assets/images/ai_tile5.png","assets/images/ai_tile6.png","assets/images/ai_tile7.png","assets/images/big_circle.png","assets/images/circle.png","assets/images/empty_triangle.png","assets/images/empty_x.png","assets/images/halfCircle.png","assets/images/icon_email.png","assets/images/icon_fb.png","assets/images/icon_ig.png","assets/images/icon_in.png","assets/images/meteor.png","assets/images/mid_circle.png","assets/images/particle1.png","assets/images/particle2.png","assets/images/resize1.png","assets/images/resize2.png","assets/images/ship.png","assets/images/sp1.png","assets/images/sp2.png","assets/images/sp3.png","assets/images/sp4.png","assets/images/star1.png","assets/images/star2.png","assets/images/tile1.png","assets/images/tile2.png","assets/images/tile3.png","assets/images/triangle.png","assets/strings/config.json","assets/strings/locale_en.json"],h=["assets/preload/fonts/font1.ttf","assets/preload/fonts/font2.woff2"];function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=c(this,p(e).call(this))).inited=!1,t.constructed=!1,t.interactive=!1,t.hasInteraction=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,PIXI.Container),function(t,e,i){e&&l(t.prototype,e),i&&l(t,i)}(e,[{key:"init",value:function(){}},{key:"construct",value:function(){}},{key:"willDisappear",value:function(){this.hasInteraction&&(this.interactive=!1,this.interactiveChildren=!1),this.removeEvents()}},{key:"willAppear",value:function(){this.inited||(this.inited=!0,this.init())}},{key:"didDisappear",value:function(){}},{key:"didAppear",value:function(){this.constructed||(this.constructed=!0,this.construct()),this.hasInteraction&&(this.interactive=!0,this.interactiveChildren=!0),this.addEvents()}},{key:"didResize",value:function(t){}},{key:"didActivate",value:function(){}},{key:"didDeactivate",value:function(){}},{key:"addEvents",value:function(){}},{key:"removeEvents",value:function(){}},{key:"destroy",value:function(t){u(p(e.prototype),"destroy",this).call(this,t)}}]),e}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e)}return function(t,e,i){e&&v(t.prototype,e),i&&v(t,i)}(t,[{key:"init",value:function(t){this.initProps(t),this.initGraphics(),this.setScreenSize(this.app.screen.width,this.app.screen.height)}},{key:"initProps",value:function(t){this.app=t,document.body.style.margin="0px",document.body.style.overflow="hidden",this.xOffset=0,this.yOffset=0,this.canvas=t.view,this.renderer=t.renderer,this.currentScale=1,this.activeScreen=null,this.activated=!0}},{key:"initGraphics",value:function(){this.maskSprite=new PIXI.Graphics,this.maskSprite.beginFill(0),this.maskSprite.drawRect(0,0,this.app.screen.width,this.app.screen.height),this.maskSprite.endFill(),this.app.stage.addChild(this.maskSprite),this.mainView=new PIXI.Container,this.mainView.mask=this.maskSprite,this.app.stage.addChild(this.mainView),this.screenLayer=new PIXI.Container,this.mainView.addChild(this.screenLayer)}},{key:"activate",value:function(){this.activated||(this.activated=!0,this.activeScreen&&this.activeScreen.didActivate())}},{key:"deactivate",value:function(){this.activated&&(this.activated=!1,this.activeScreen&&this.activeScreen.didDeactivate())}},{key:"setScreenSize",value:function(t,e){this.baseWidth=t,this.baseHeight=e,this.resizeScreen(!1)}},{key:"resizeScreen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=window.innerWidth,i=window.innerHeight;this.canvas.width=e,this.canvas.height=i,this.renderer.resize(e,i);var n=1,a=(this.baseWidth,this.baseHeight,e/i);if(this.baseWidth>this.baseHeight)if(this.yOffset=0,a>=this.baseWidth/this.baseHeight){n=i/this.baseHeight;var s=this.baseWidth*n,r=e/n;this.mainView.scale.set(n,n),this.mainView.position.set(.5*(e-s),0),this.maskSprite.scale.set(n,n),this.maskSprite.position.set(.5*(e-s),0),r<=this.baseWidth?this.xOffset=.5*(this.baseWidth-r):this.xOffset=0}else{n=e/this.baseWidth;var h=this.baseHeight*n;this.mainView.scale.set(n,n),this.mainView.position.set(0,.5*(i-h)),this.maskSprite.scale.set(n,n),this.maskSprite.position.set(0,.5*(i-h)),this.xOffset=0}else if(this.xOffset=0,a>=this.baseWidth/this.baseHeight){n=e/this.baseWidth;var o=this.baseHeight*n,l=i/n;this.mainView.scale.set(n,n),this.mainView.position.set(0,.5*(i-o)),this.maskSprite.scale.set(n,n),this.maskSprite.position.set(0,.5*(i-o)),l<=this.baseHeight?this.yOffset=.5*(this.baseHeight-l):this.yOffset=0}else{n=i/this.baseHeight;var c=this.baseWidth*n;this.mainView.scale.set(n,n),this.mainView.position.set(.5*(e-c),0),this.maskSprite.scale.set(n,n),this.maskSprite.position.set(.5*(e-c),0),this.yOffset=0}this.currentScale=n,t&&this.activeScreen&&this.activeScreen.didResize(this.xOffset)}},{key:"setRootScreen",value:function(t){null!=t&&void 0!=t&&(t instanceof f?(this.activeScreen=t,this.activeScreen.willAppear(),this.screenLayer.addChild(this.activeScreen),this.activeScreen.didAppear()):console.error("rootScreen object is not a Screen."))}},{key:"replaceScreen",value:function(t){null==this.curTransition&&(null!=this.activeScreen&&void 0!=this.activeScreen||(console.warn("There is no active screen. Use setRootScreen() first to set the active screen"),this.setRootScreen(t)),t instanceof f?this.screenTransitionStart(t):console.error("rootScreen object is not a Screen."))}},{key:"screenTransitionStart",value:function(t){this.activeScreen.willDisappear(),t.willAppear(),this.activeScreen.didDisappear(),this.screenLayer.removeChild(this.activeScreen),this.activeScreen=t,this.screenLayer.addChild(this.activeScreen),this.activeScreen.didAppear()}}]),t}();function g(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ticker=e.ticker,this._renderer=e.renderer,this._stage=e.stage,this._updateList=[],this._scopeList=[],this.ticker.start(),this._bindLoop=this._frameLoop.bind(this),this.ticker.add(this._bindLoop)}return function(t,e,i){e&&g(t.prototype,e),i&&g(t,i)}(t,[{key:"_frameLoop",value:function(t){if(this._updateList.length>0)for(var e=0;e<this._updateList.length;e++)this._updateList[e].call(this._scopeList[e],this.ticker.elapsedMS,t)}},{key:"add",value:function(t,e){if("function"!=typeof t)throw new Error("Callback must be a function");this._updateList.push(t),this._scopeList.push(e)}},{key:"remove",value:function(t){if("function"!=typeof t)throw"Callback must be a function";var e=this._updateList.indexOf(t);e>-1&&this._updateList.splice(e,1),e>-1&&this._scopeList.splice(e,1)}},{key:"removeAll",value:function(){this._updateList.length=0,this._scopeList.length=0}},{key:"destroy",value:function(){this.ticker.stop(),this.ticker.remove(this._bindLoop),this._updateList.length=0,this._updateList=null,this._scopeList.length=0,this._scopeList=null,this.ticker=null}},{key:"FPS",get:function(){return this.ticker.FPS},set:function(t){"number"==typeof t&&(this.ticker.FPS=t)}},{key:"updateList",get:function(){return this._updateList}}]),t}();function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=i(194),T=["json","js","xml","txt"],k=["ogg","mp3","wav"],x=["ttf","woff","woff2","otf","eot"],C=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._createJSManifest=[],this._pixiAssetToBeLoaded=[],this._fontsToObserve=[],this._createJSManifestToUnload=[],this._pixiAssetToBeUnload=[],this._loadProgress=0,this._soundProgress=0,this._totalObjectsToLoad=0,this._totalObjectsToUnload=0,this._onComplete,this._onCompleteParam,this.onprogress,this.isLoading=!1,this._init()}return function(t,e,i){e&&w(t.prototype,e),i&&w(t,i)}(t,[{key:"_init",value:function(){this._pixiLoader=PIXI.loader,createjs||console.error("createjs was not found. "),this._cjAssets=new createjs.LoadQueue,this._cjAssets.installPlugin(createjs.Sound),this._cjAssets.addEventListener("progress",this._cjProgressHandler.bind(this)),this._cjAssets.addEventListener("complete",this._cjCompleteHandler.bind(this)),this._cjAssets.addEventListener("error",this._cjErrorHandler.bind(this)),this._pixiLoader.on("progress",this._pixiProgressHandler.bind(this)),this._pixiLoader.on("error",this._pixiErrorHandler.bind(this))}},{key:"_cjProgressHandler",value:function(t){var e=t.progress>1?1:t.progress;this._loadProgress=e*this._createJSManifest.length/this._totalObjectsToLoad,this._soundProgress=this._loadProgress,"function"==typeof this.onprogress&&this.onprogress({progress:this._loadProgress})}},{key:"_cjCompleteHandler",value:function(t){this._pixiAssetToBeLoaded.length<=0?this._pixiCompleteHandler():this._pixiLoader.add(this._pixiAssetToBeLoaded).load(this._pixiCompleteHandler.bind(this))}},{key:"_cjErrorHandler",value:function(t){console.error("CreateJS Loading Error: ",t)}},{key:"_pixiProgressHandler",value:function(t,e){this._loadProgress=this._soundProgress+.01*t.progress*this._pixiAssetToBeLoaded.length/this._totalObjectsToLoad,"function"==typeof this.onprogress&&this.onprogress({progress:this._loadProgress})}},{key:"_pixiErrorHandler",value:function(t,e,i){console.error("PixiJS Loading Error!",t)}},{key:"_pixiCompleteHandler",value:function(t,e){this._clearManifest(),"function"==typeof this._onComplete&&this._onComplete.apply(null,this._onCompleteParam)}},{key:"_clearManifest",value:function(){this._pixiAssetToBeLoaded.length=0,this._createJSManifest.length=0,this._createJSManifestToUnload.length=0,this._pixiAssetToBeUnload.length=0}},{key:"_startUnload",value:function(){for(var t,e;this._createJSManifestToUnload.length>0;)e=_createJSManifestToUnload.pop(),t=_cjAssets.getItem(e),_cjAssets.remove(t.id),"sound"===t.type&&createjs.Sound.removeSound(t.id);for(;this._pixiAssetToBeUnload.length>0;)e=_pixiAssetToBeUnload.pop(),(t=EHDI.Assets.images[e]).destroy(!0)}},{key:"_startLoad",value:function(){this._createJSManifest.length>0?this._cjAssets.loadManifest(this._createJSManifest):this._cjCompleteHandler()}},{key:"_fontParser",value:function(t){var e=t.split("/").pop().split("."),i=e[0],n=e[1];"ttf"===n&&(n="truetype"),"otf"===n&&(n="opentype"),"eot"===n&&(n="embedded-opentype");var a=document.createElement("style"),s="@font-face {font-family: '"+i+"'; src: url('"+t+"') format('"+n+"');";return a.appendChild(document.createTextNode(s)),document.body.appendChild(a),S.fonts.push(i),i}},{key:"_fontWatcher",value:function(){var t,e,i,n,a=this;this._fontsToObserve.length>0&&function(){var s=0,r=0,h=0,o=a._fontsToObserve.length;for(t=0;t<a._fontsToObserve.length;t++)e=function(t){var e=a._fontsToObserve.indexOf(t);a._fontsToObserve.splice(e,1),s++,n()},i=function(t){var e=a._fontsToObserve.indexOf(t);a._fontsToObserve.splice(e,1),console.error("LoadManager: font: "+t.family+" is not available after 5 secs"),r++,n()},n=function(){h!==o&&(s===++h?"function"==typeof a._onFontFulfill&&a._onFontFulfill():s+r===h&&"function"==typeof a._onFontReject&&a._onFontReject())},a._fontsToObserve[t].load(null,5e3).then(e,i)}()}},{key:"queueStrings",value:function(t){for(var e,i=[];t.length>0;)e=t.pop(),i.push({id:e,src:e});this._createJSManifest=this._createJSManifest.concat(i)}},{key:"queueFonts",value:function(t){for(var e,i;t.length>0;)e=t.pop(),i=this._fontParser(e),this._fontsToObserve.push(new b(i))}},{key:"queueAudios",value:function(t){for(var e,i=[];t.length>0;)"string"!=typeof(e=t.pop())&&(e.id,e=e.url),i.push({id:e,src:e});this._createJSManifest=this._createJSManifest.concat(i)}},{key:"queueImages",value:function(t){for(var e,i=[];t.length>0;)"string"!=typeof(e=t.pop())&&(e.id,e=e.url),i.push({name:e,url:e});this._pixiAssetToBeLoaded=this._pixiAssetToBeLoaded.concat(i)}},{key:"queueAssets",value:function(t){var e=function(t,e){return t=t.filter(function(t){return e.indexOf(t)<0})},i=function(t,e){return t.filter(function(t){"string"!=typeof t&&(t=t.url);var i=t.split(".").pop();return-1!==e.indexOf(i)})},n=i(t,x),a=i(t,k),s=i(t,T),r=e(t,n);r=e(r=e(r,s),a),this.queueFonts(n),this.queueAudios(a),this.queueStrings(s),this.queueImages(r)}},{key:"queueUnload",value:function(t){var e=function(t,e){return t=t.filter(function(t){return e.indexOf(t)<0})},i=getUrlsBaseOnExtension(t,x),n=getUrlsBaseOnExtension(t,k),a=getUrlsBaseOnExtension(t,T),s=e(t,n);s=e(s=e(s,a),i),this._createJSManifestToUnload=this._createJSManifestToUnload.concat(n),this._createJSManifestToUnload=this._createJSManifestToUnload.concat(a),this._pixiAssetToBeUnload=this._pixiAssetToBeUnload.concat(s)}},{key:"start",value:function(t){this._onComplete=t.onComplete,this._onCompleteParam=t.onCompleteParam,this._onFontFulfill=t.onFontFulfill,this._onFontReject=t.onFontReject,this._loadProgress=0,this._soundProgress=0,this._totalObjectsToLoad=this._createJSManifest.length+this._pixiAssetToBeLoaded.length,this._totalObjectsToUnload=this._createJSManifestToUnload.length+this._pixiAssetToBeUnload.length,this._pixiLoader.reset(),this._fontWatcher(),this._startUnload(),this._startLoad()}}]),t}()),S={images:n.utils.TextureCache,fonts:[],fetch:function(t){var e=C._cjAssets.getResult(t);return e||(e=n.loader.resources[t]||null),e}};function O(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(S,"cjAssets",{value:C._cjAssets,enumerable:!1});var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,i){e&&O(t.prototype,e),i&&O(t,i)}(t,null,[{key:"getAngleOfOppositeAndAdjacent",value:function(t,e){return Math.atan(t/e)}},{key:"getAngleOfOppositeAndHypotenuse",value:function(t,e){return Math.atan(t/e)}},{key:"getAngleOfAdjacentAndHypotenuse",value:function(t,e){return Math.atan(t/e)}},{key:"convertRadianToDegree",value:function(e){var i=e*(180/Math.PI);return t.floatRound(i,4)}},{key:"convertDegreeToRadian",value:function(e){var i=e/(180/Math.PI);return t.floatRound(i,4)}},{key:"floatRound",value:function(t,e){var i=Math.pow(10,e);return Math.round(i*t)/i}},{key:"getHypotenuseUsingOppositeAndAdjacent",value:function(e,i){return t.floatRound(Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),4)}},{key:"getHypotenuseOfTwoPoints",value:function(e,i){return t.floatRound(Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),4)}},{key:"getReverseUnitCircleAngle",value:function(e,i){var n,a=i.x-e.x,s=i.y-e.y;if(0==a&&0==s)n=-1;else{var r=t.convertRadianToDegree(t.getAngleOfOppositeAndAdjacent(a,s));r=Math.abs(r),n=a>=0&&s>=0?90-r:a<0&&s>=0?r+90:a<0&&s<0?270-r:r+270}return n}},{key:"getUnitCircleAngle",value:function(e,i){var n,a=i.x-e.x,s=i.y-e.y;if(0==a&&0==s)n=-1;else{var r=t.convertRadianToDegree(t.getAngleOfOppositeAndAdjacent(a,s));r=Math.abs(r),n=a>=0&&s>=0?r+270:a<0&&s>=0?270-r:a<0&&s<0?r+90:90-r}return n}},{key:"getUnitCircleRadianAngle",value:function(e,i){var n,a=i.x-e.x,s=i.y-e.y;if(0==a&&0==s)n=-1;else{var r=t.getAngleOfOppositeAndAdjacent(a,s);r=Math.abs(r),n=a>=0&&s>=0?r+4.71238898038:a<0&&s>=0?4.71238898038-r:a<0&&s<0?r+1.57079632679:1.57079632679-r}return n}},{key:"getCollisionAngle",value:function(e,i){var n=i.x-e.x,a=i.y-e.y;return 1.57079632679-Math.abs(t.getAngleOfOppositeAndAdjacent(n,a))}}]),t}();function j(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._lastTime,this._pauseTime,this._pause,this._lastFrameTime,this._date,this._pause=!1,this._lastTime=(new Date).getTime(),this._lastFrameTime=(new Date).getTime()}return function(t,e,i){e&&j(t.prototype,e),i&&j(t,i)}(t,[{key:"reset",value:function(){this._pause=!1,this._lastTime=(new Date).getTime(),this._lastFrameTime=(new Date).getTime()}},{key:"addAdditionalTime",value:function(t){this._lastTime-=t}},{key:"resetLastTime",value:function(t){this._lastTime-=(new Date).getTime()-t}},{key:"getDelta",value:function(){var t=(new Date).getTime()-this._lastFrameTime;return t/=10,this.resetLastFrameTime(),t}},{key:"resetLastFrameTime",value:function(){lastFrameTime=(new Date).getTime()}},{key:"pause",value:function(){this._pause||(this._pause=!0,this._pauseTime=(new Date).getTime()-this._lastTime)}},{key:"resume",value:function(){this._pause&&(this._pause=!1,this._lastTime=(new Date).getTime()-this._pauseTime,this._lastFrameTime=(new Date).getTime())}},{key:"getTimeInMilliseconds",value:function(){var t;return t=this._pause?this._pauseTime:(new Date).getTime()-this._lastTime,parseInt(t)}},{key:"getTime",value:function(){var t;return t=this._pause?this._pauseTime:(new Date).getTime()-this._lastTime,parseInt(t)}},{key:"getTimeInSeconds",value:function(){var t;return t=this._pause?this._pauseTime:(new Date).getTime()-this._lastTime,t/=1e3,parseInt(t)}},{key:"getPercentageOfCurrentTimeOverGivenTime",value:function(t){var e;return(e=this.getTimeInMilliseconds()/t)>1&&(e=1),e}},{key:"addValueToLastTime",value:function(t){t+this._lastTime>(new Date).getTime()?this._lastTime=(new Date).getTime():this._lastTime+=t}},{key:"destroy",value:function(){this.lastTime=null,this.pauseTime=null,this.onPause=null,this.lastFrameTime=null}}]),t}();function _(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D=function(){function t(e,i,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,i,n,a)}return function(t,e,i){e&&_(t.prototype,e),i&&_(t,i)}(t,[{key:"init",value:function(t,e,i,n){this._left=t,this._right=e,this._top=i,this._bottom=n,this._width=t+e,this._height=i+n,this._halfWidth=this._width/2,this._halfHeight=this._height/2,this._centerX=this._halfWidth-t,this._centerY=this._halfHeight-i,this._updatedCenterX=0,this._updatedCenterY=0,this._globalLeftX=0,this._globalRightX=0,this._globalTopY=0,this._globalBottomY=0}},{key:"update",value:function(t,e){this._updatedCenterX=t+this._centerX,this._updatedCenterY=e+this._centerY,this._globalLeftX=this._updatedCenterX-this._halfWidth,this._globalRightX=this._updatedCenterX+this._halfWidth,this._globalTopY=this._updatedCenterY-this._halfHeight,this._globalBottomY=this._updatedCenterY+this._halfHeight}},{key:"update2",value:function(t){this._updatedCenterX=t.x+this._centerX,this._updatedCenterY=t.y+this._centerY,this._globalLeftX=this._updatedCenterX-this._halfWidth,this._globalRightX=this._updatedCenterX+this._halfWidth,this._globalTopY=this._updatedCenterY-this._halfHeight,this._globalBottomY=this._updatedCenterY+this._halfHeight}},{key:"getGlobalLeftX",value:function(){return this._globalLeftX}},{key:"getGlobalRightX",value:function(){return this._globalRightX}},{key:"getGlobalTopY",value:function(){return this._globalTopY}},{key:"getGlobalBottomY",value:function(){return this._globalBottomY}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}}]),t}();i(195);function E(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,i){e&&E(t.prototype,e),i&&E(t,i)}(t,null,[{key:"testRectCollision",value:function(t,e){var i=t._updatedCenterX-e._updatedCenterX,n=t._updatedCenterY-e._updatedCenterY,a=t._halfWidth+e._halfWidth,s=t._halfHeight+e._halfHeight,r=!1;return Math.abs(i)<a&&Math.abs(n)<s&&(r=!0),r}},{key:"testSpriteRectCollision",value:function(t,e){var i=t.x-e.x,n=t.y-e.y,a=t.halfWidth+e.halfWidth,s=t.halfHeight+e.halfHeight,r=!1;return Math.abs(i)<a&&Math.abs(n)<s&&(r=!0),r}},{key:"testCircleCollision",value:function(t,e){return Math.pow(t.getCenterX()-e.getCenterX(),2)+Math.pow(t.getCenterY()-e.getCenterY(),2)<=Math.pow(t.getRadius()+e.getRadius(),2)}},{key:"testCircleAndBoxCollision",value:function(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return!(i>e.halfWidth+t.r)&&(!(n>e.halfHeight+t.r)&&(i<=e.halfWidth||(n<=e.halfHeight||(i-e.halfWidth/2^n-e.halfHeight+2^2)<=(2^t.r))))}},{key:"testSpriteCircleCollision",value:function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(.5*t.width+.5*e.width,2)}},{key:"testSpriteCircleCollisionPercentage",value:function(t,e,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(t.width*i+e.width*i,2)}},{key:"testCircleCollision2",value:function(t,e,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i+.5*e.width,2)}},{key:"testCircleCollision3",value:function(t,e,i,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i+n,2)}}]),t}();function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=Object.freeze({LEFT:Symbol("left"),RIGHT:Symbol("right"),IDLE:Symbol("idle")}),H=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=R(this,B(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,n["Container"]),function(t,e,i){e&&L(t.prototype,e),i&&L(t,i)}(e,[{key:"init",value:function(){this.currentDirection=W.IDLE,this.velocity=6,this.newX=0,this.currentPoint=0,this.pointMovementEnabled=!1,this.maxRight=.5*Oi.baseWidth+240,this.maxLeft=.5*Oi.baseWidth-240,this.leftActiveGun=!0,this.availableBullets=[],this.activeBullets=[],this.explodedBullets=[],this.bulletSpeed=8,this.firing=!1,this.reloadTimer=new M,this.reloadDelay=300,this.bulletTexture=this.generateBulletTexture(),this.sprite=new n.Sprite(S.images["assets/images/ship.png"]),this.sprite.anchor.set(.5,.57),this.sprite.tint=16738908,this.addChild(this.sprite),this.spriteMask=new n.Graphics,this.spriteMask.beginFill(4276545),this.spriteMask.drawRect(-30,-30,60,60),this.spriteMask.endFill(),this.spriteMask.rotation=3*Math.PI/4,this.addChild(this.spriteMask),this.sprite.mask=this.spriteMask}},{key:"appear",value:function(t,e){createjs.Tween.get(this.spriteMask).to({width:120,height:120},t,e)}},{key:"disappear",value:function(t,e){createjs.Tween.get(this.spriteMask).to({width:60,height:60},t,e)}},{key:"reset",value:function(){this.currentDirection=W.IDLE,this.firing=!1,this.newX=0,this.pointMovementEnabled=!1,this.returnAllBullets()}},{key:"update",value:function(){this.fire();for(var t=0;t<this.activeBullets.length;t++)this.activeBullets[t].y-=this.bulletSpeed,this.activeBullets[t].y<-10&&this.returnBullet(this.activeBullets[t]);this.updateMovement()}},{key:"generateBulletTexture",value:function(){var t=new PIXI.Graphics;return t.beginFill(16738908),t.drawCircle(0,0,12),t.endFill(),t.generateCanvasTexture()}},{key:"getABullet",value:function(){var t;return this.availableBullets.length>0?t=this.availableBullets.pop():(t=new n.Sprite(this.bulletTexture)).anchor.set(.5,.5),t.scale.x=t.scale.y=.4,t}},{key:"returnBullet",value:function(t){null!=t.parent&&t.parent.removeChild(t),this.activeBullets.indexOf(t)>-1&&this.activeBullets.splice(this.activeBullets.indexOf(t),1),this.availableBullets.push(t)}},{key:"explodeBullet",value:function(t){this.activeBullets.splice(this.activeBullets.indexOf(t),1),this.explodedBullets.push(t),createjs.Tween.get(t.scale).to({x:.8,y:.8},100).call(this.explodeBullet2,[t],this)}},{key:"explodeBullet2",value:function(t){this.explodedBullets.splice(this.explodedBullets.indexOf(t),1),t.emit("MAX_EXPLOSION",t),createjs.Tween.get(t.scale).to({x:0,y:0},100).call(this.returnBullet,[t],this)}},{key:"startFire",value:function(){this.firing=!0}},{key:"fire",value:function(){if(this.firing&&!(this.reloadTimer.getTime()<this.reloadDelay)){var t=this.getABullet();this.leftActiveGun=!this.leftActiveGun,this.leftActiveGun?t.x=-26.5+this.x:t.x=26.5+this.x,t.y=-60+this.y,this.activeBullets.push(t),this.parent.particleContainer.addChild(t),this.reloadTimer.reset()}}},{key:"stopFire",value:function(){this.pointMovementEnabled||(this.firing=!1)}},{key:"getBullets",value:function(){return this.activeBullets}},{key:"returnAllBullets",value:function(){for(;this.activeBullets.length>0;)this.returnBullet(this.activeBullets.pop())}},{key:"moveLeft",value:function(){this.currentDirection=W.LEFT}},{key:"moveRight",value:function(){this.currentDirection=W.RIGHT}},{key:"stopLeft",value:function(){this.currentDirection==W.LEFT&&(this.currentDirection=W.IDLE)}},{key:"stopRight",value:function(){this.currentDirection==W.RIGHT&&(this.currentDirection=W.IDLE)}},{key:"updateLeft",value:function(){this.x>this.maxLeft&&(this.newX=this.x-this.velocity,this.newX<this.maxLeft&&(this.newX=this.maxLeft),this.x=this.newX)}},{key:"updateRight",value:function(){this.x<this.maxRight&&(this.newX=this.x+this.velocity,this.newX>this.maxRight&&(this.newX=this.maxRight),this.x=this.newX)}},{key:"updateMovement",value:function(){this.currentDirection==W.LEFT?this.updateLeft():this.currentDirection==W.RIGHT?this.updateRight():this.pointMovementEnabled&&this.updatePointMovement()}},{key:"updatePointMovement",value:function(){this.x+this.velocity<this.currentPoint.x?this.updateRight():this.x-this.velocity>this.currentPoint.x&&this.updateLeft()}},{key:"enablePointMovement",value:function(t){this.pointMovementEnabled=!0,this.currentPoint=t}},{key:"updateCurrentPoint",value:function(t){this.pointMovementEnabled&&(this.currentPoint=t)}},{key:"disablePointMovement",value:function(){this.pointMovementEnabled=!1}}]),e}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Y=function(t){function e(t,i,a,s,r){var h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(h=function(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?N(t):e}(this,X(e).call(this))).scaleMin=h.getRandom(.1,.25),h.scaleMax=h.getRandom(.75,1),h.baseScale=h.getRandom(h.scaleMin,h.scaleMax),h.velocity=h.getRandom(s,r),h.speed=0;var o=new n.Texture(a);return PIXI.Sprite.call(N(N(h)),o),h.position.x=t,h.position.y=i,h.anchor.x=h.anchor.y=.5,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,n["Sprite"]),function(t,e,i){e&&U(t.prototype,e),i&&U(t,i)}(e,[{key:"update",value:function(){this.baseScale=Math.abs(Math.sin(this.speed))+this.scaleMin,this.scale.x=this.scale.y=this.baseScale,this.speed+=this.velocity}},{key:"getRandom",value:function(t,e){return Math.random()*(e-t)+t}}]),e}();function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function K(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=K(this,q(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,n["Container"]),function(t,e,i){e&&J(t.prototype,e),i&&J(t,i)}(e,[{key:"init",value:function(){this.spaceBetween=3,this.sizeMax=2,this.speedMin=.01,this.speedMax=.07,this.sprites=new n.particles.ParticleContainer(3e4,{scale:!0,position:!1,rotation:!1,uvs:!1,alpha:!0}),this.addChild(this.sprites),this.particles=[],this.graphicsCords=[],this.text1=new PIXI.Text("3",{fontWeight:"bold",fontSize:210,fontFamily:"font2",fill:"#000000",align:"center"}),this.text1.position.set(.5*Oi.baseWidth,.24*Oi.baseHeight),this.text1.anchor.set(.5,.5),this.particles=[],this.graphicsCords=[],this.texture=this.createTexture(),this.text2=new PIXI.Text(" OVER              YEARS",{fontWeight:"bold",fontSize:50,fontFamily:"font2",fill:"#000000",align:"center"}),this.text2.position.set(.5*Oi.baseWidth,.24*Oi.baseHeight),this.text2.anchor.set(.5,.5),this.text3=new PIXI.Text(" OVER 3 YEARS OF\nGAME DEVELOPMENT EXPERIENCE",{fontSize:26,fontFamily:"font1",fill:"#414141",align:"center",letterSpacing:2}),this.text3.position.set(.5*Oi.baseWidth,.42*Oi.baseHeight),this.text3.anchor.set(.5,.5),this.addChild(this.text1),this.addChild(this.text2);var t=Oi.renderer.plugins.extract.canvas(this),e=t.getContext("2d").getImageData(0,0,Oi.baseWidth,Oi.baseHeight),i=.5*(Oi.baseWidth-t.width),a=.1*(Oi.baseHeight-t.height);i<0&&(i=0),a<0&&(a=0),this.removeChild(this.text1),this.removeChild(this.text2),this.addChild(this.text3);for(var s=0;s<t.height;s+=this.spaceBetween)for(var r=0;r<t.width;r+=this.spaceBetween)e.data[4*(s*e.width+r)+3]>128&&this.particles.push(new Y(r+i,s+a,new n.Texture(this.texture.baseTexture,new n.Rectangle(this.graphicsCords[0].x,this.graphicsCords[0].y,2*this.sizeMax,2*this.sizeMax)),this.speedMin,this.speedMax));for(var h=0,o=this.particles.length;h<o;h++)this.sprites.addChild(this.particles[h])}},{key:"update",value:function(){for(var t=0;t<this.particles.length;t++)this.particles[t].update()}},{key:"createTexture",value:function(){var t=new PIXI.Graphics,e=this.sizeMax,i=2*e*0+e+0,n=2*e*0+e+0;return t.beginFill(353649),t.drawCircle(i,n,e,e),t.endFill(),this.graphicsCords.push({x:i-e,y:n-e}),t.generateCanvasTexture()}},{key:"getParticles",value:function(){return this.particles}}]),e}();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function et(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var at=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=et(this,it(e).call(this))).init(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,n["projection"].Container3d),function(t,e,i){e&&tt(t.prototype,e),i&&tt(t,i)}(e,[{key:"init",value:function(t){this.iconContainer=new n.projection.Sprite3d(S.images["assets/images/mid_circle.png"]),this.iconContainer.anchor.set(.5,.5),this.iconContainer.tint=353649,this.iconContainer.position3d.z=10,this.addChild(this.iconContainer),this.icon=new n.projection.Sprite3d(S.images["assets/images/sp"+t+".png"]),this.icon.anchor.set(.5,.5),this.icon.tint=4276545,this.icon.position3d.z=0,this.addChild(this.icon),this.text=new n.projection.Text3d(this.getText(t),{fontSize:26,fontFamily:"font1",fill:"#414141",align:"center"}),this.text.anchor.set(.5,.5),this.text.y=80,this.text.position3d.z=-10,this.addChild(this.text)}},{key:"getText",value:function(t){return 1==t?"GAMEPLAY":2==t?"GAME AI":3==t?"PHYSICS":"LEVEL DESIGN"}}]),e}();function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ht(t,e){return!e||"object"!==st(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ht(this,ot(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(e,n["Container"]),function(t,e,i){e&&rt(t.prototype,e),i&&rt(t,i)}(e,[{key:"init",value:function(){this.interactive=!0,this.midPoint=new n.Point(0,0),this.activated=!1,this.radian=0,this.camera=new n.projection.Camera3d,this.camera.setPlanes(400,10,1e4,!1),this.addChild(this.camera),this.container=new n.projection.Container3d,this.camera.addChild(this.container),this.holders=[];for(var t=0;t<4;t++){var e=new at(t+1);e.x=0,e.y=0,e.position3d.z=30,e.alpha=0,this.holders.push(e),this.container.addChild(e)}this.firstBG=new n.Graphics,this.firstBG.beginFill(353649),this.firstBG.drawRect(-30,-30,60,60),this.firstBG.endFill(),this.addChild(this.firstBG),this.secondBG=new n.projection.Sprite3d(S.images["assets/images/big_circle.png"]),this.secondBG.anchor.set(.5,.5),this.secondBG.tint=16738908,this.secondBG.alpha=0,this.container.addChild(this.secondBG),this.text=new n.projection.Text3d("SPECIALIZATION",new PIXI.TextStyle({fontFamily:"font1",fontSize:36,fontWeight:"bold",align:"center",fill:["#414141"]})),this.text.anchor.set(.5,.5),this.text.position3d.z=-30,this.text.alpha=0,this.container.addChild(this.text),this.sMask=new n.Graphics,this.sMask.beginFill(353649),this.sMask.drawCircle(0,0,30),this.addChild(this.sMask),this.mask=this.sMask,this.evt_onMove=this.evt_onMove.bind(this),this.on("pointermove",this.evt_onMove)}},{key:"updateBGToCircle",value:function(t){this.firstBG.clear(),this.firstBG.beginFill(353649),this.firstBG.drawCircle(0,0,t),this.firstBG.endFill()}},{key:"updateBGToRect",value:function(){this.firstBG.clear(),this.firstBG.beginFill(353649),this.firstBG.drawRect(-30,-30,60,60),this.firstBG.endFill()}},{key:"activate",value:function(){this.activated=!0}},{key:"deactivate",value:function(){this.activated=!1}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.sMask).to({width:30,height:30},t,e)}},{key:"animateIn2",value:function(t,e){this.updateBGToCircle(170),createjs.Tween.get(this.sMask).to({width:1536,height:1536},t,e);for(var i=0;i<this.holders.length;i++)createjs.Tween.get(this.holders[i]).to({x:i%2*400-200,y:400*Math.floor(i/2)-200,alpha:1},t,e)}},{key:"animateIn3",value:function(t,e){createjs.Tween.get(this.container.euler).to({y:-Math.PI/32*Math.cos(this.radian),x:-Math.PI/32*Math.sin(this.radian)},t,e),createjs.Tween.get(this.firstBG).to({alpha:0},t,e),createjs.Tween.get(this.secondBG).to({alpha:1},t,e),createjs.Tween.get(this.text).to({alpha:1},t,e)}},{key:"backOut1",value:function(t,e){createjs.Tween.get(this.container.euler).to({x:0,y:0},.5*t,e);for(var i=0;i<this.holders.length;i++)createjs.Tween.get(this.holders[i]).to({x:0,y:0,alpha:0},t,e);createjs.Tween.get(this.firstBG).to({alpha:1},t,e),createjs.Tween.get(this.secondBG).to({alpha:0},t,e),createjs.Tween.get(this.text).to({alpha:0},t,e)}},{key:"backOut2",value:function(t,e){createjs.Tween.get(this.sMask).to({width:30,height:30},t,e)}},{key:"backOut3",value:function(t,e){this.updateBGToRect(),createjs.Tween.get(this.sMask).to({width:60,height:60},t,e)}},{key:"animateOut1",value:function(t,e){createjs.Tween.get(this.container.euler).to({x:0,y:0},.5*t,e);for(var i=0;i<this.holders.length;i++)createjs.Tween.get(this.holders[i]).to({x:0,y:0,alpha:0},t,e);createjs.Tween.get(this.firstBG).to({alpha:1},t,e),createjs.Tween.get(this.secondBG).to({alpha:0},t,e),createjs.Tween.get(this.text).to({alpha:0},t,e),createjs.Tween.get(this.sMask).to({width:30,height:30},t,e)}},{key:"animateOut2",value:function(t,e){createjs.Tween.get(this.sMask).to({width:40,height:40},t,e)}},{key:"backIn1",value:function(t,e){createjs.Tween.get(this.sMask).to({width:30,height:30},t,e)}},{key:"backIn2",value:function(t,e){for(var i=0;i<this.holders.length;i++)createjs.Tween.get(this.holders[i]).to({x:i%2*400-200,y:400*Math.floor(i/2)-200,alpha:1},t,e);createjs.Tween.get(this.firstBG).to({alpha:0},t,e),createjs.Tween.get(this.secondBG).to({alpha:1},t,e),createjs.Tween.get(this.text).to({alpha:1},t,e),createjs.Tween.get(this.sMask).to({width:1536,height:1536},t,e),createjs.Tween.get(this.container.euler).to({y:-Math.PI/32*Math.cos(this.radian),x:-Math.PI/32*Math.sin(this.radian)},t,e)}},{key:"evt_onMove",value:function(t){}},{key:"updatePlatform",value:function(t){if(this.activated){var e=P.getHypotenuseUsingOppositeAndAdjacent(this.midPoint.x-t.x,this.midPoint.y-t.y)/100,i=P.getUnitCircleRadianAngle(this.midPoint,t);this.container.euler.y=-e*Math.PI/64*Math.cos(i),this.container.euler.x=-e*Math.PI/64*Math.sin(i)}}},{key:"update",value:function(){this.activated&&(this.radian+=.01,this.radian>=6.28318530718&&(this.radian-=6.28318530718),this.container.euler.y=-Math.PI/32*Math.cos(this.radian),this.container.euler.x=-Math.PI/32*Math.sin(this.radian))}}]),e}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ft(t,e,i){return e&&dt(t.prototype,e),i&&dt(t,i),t}function vt(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wt=function(t){function e(){var t;return pt(this,e),(t=vt(this,yt(e).call(this))).init(),t}return gt(e,n["Container"]),ft(e,[{key:"init",value:function(){this.initProps(),this.initGraphics(),this.initEvents()}},{key:"initProps",value:function(){this.interactive=!0,this.controlsEnabled=!1,this.gameRadius=220,this.gameMaxRadius=280,this.gameTop=-350,this.gameBot=100,this.gameLeft=-300,this.gameRight=300,this.individualTextures=["star1","star2","meteor","particle1","particle2"],this.currentPoint=new n.Point(0,0),this.fallingStarMovementEnable=!1,this.trailSpawnWidth=40,this.trailSpawnWidthHalf=.5*this.trailSpawnWidth,this.trailSpawnHeight=40,this.trailSpawnHeightHalf=.5*this.trailSpawnWidth,this.availableTrailParticle=[],this.activeTrailParticle=[],this.availableStars=[],this.activeStars=[],this.availableParallaxStars=[],this.activeParallaxStars=[],this.starSpawnDistanceLimit=2e3,this.starCurrentSpawnDistance=this.starSpawnDistanceLimit,this.parallaxSpawnDistanceLimit=5e3,this.parallaxCurrentSpawnDistance=this.parallaxSpawnDistanceLimit,this.gameMidPoint=new n.Point(0,-80),this.starReturnPoint=new n.Point(this.gameMidPoint.x+this.gameRadius,this.gameMidPoint.y-this.gameRadius),this.activated=!1}},{key:"initGraphics",value:function(){this.iconContainer=new n.Graphics,this.iconContainer.beginFill(16777215),this.iconContainer.drawCircle(0,0,50),this.iconContainer.endFill(),this.iconContainer.tint=353649,this.iconContainer.x=-280,this.iconContainer.y=260,this.iconContainer.alpha=0,this.addChild(this.iconContainer),this.icon=new n.Sprite(S.images["assets/images/sp1.png"]),this.icon.anchor.set(.5,.5),this.icon.tint=4276545,this.icon.x=-280,this.icon.y=260,this.icon.alpha=0,this.addChild(this.icon),this.text=new PIXI.Text("GAMEPLAY",{fontSize:30,fontFamily:"font1",fill:"#414141",align:"center"}),this.text.anchor.set(.5,.5),this.text.x=-280,this.text.y=340,this.text.alpha=0,this.addChild(this.text),this.disText=new PIXI.Text("Built numerous game experiences by utilizing creativity and team collaboration.",{fontSize:22,fontFamily:"font2",fill:"#414141",align:"left",wordWrap:!0,wordWrapWidth:520}),this.disText.anchor.set(.5,.5),this.disText.x=80,this.disText.y=290,this.disText.alpha=0,this.addChild(this.disText),this.createTexture(),this.eventFrame=new n.Graphics,this.eventFrame.beginFill(16777215),this.eventFrame.drawRect(.5*-Oi.baseWidth,.5*-Oi.baseHeight,Oi.baseWidth,Oi.baseHeight),this.eventFrame.endFill(),this.eventFrame.alpha=0,this.addChild(this.eventFrame),this.circularObject=new n.Graphics,this.circularObject.beginFill(16777215),this.circularObject.drawCircle(0,0,20),this.circularObject.endFill(),this.circularObject.tint=4276545,this.circularObject.y=this.gameMidPoint.y,this.circularObject.alpha=0,this.addChild(this.circularObject),this.gameContainer=new n.Container,this.addChild(this.gameContainer),this.gameContainer.visible=0,this.gameContainer.visible=!1,this.gMask=new n.Graphics,this.gMask.beginFill(16777215),this.gMask.drawCircle(0,0,this.gameRadius),this.gMask.endFill(),this.gMask.position.set(this.gameMidPoint.x,this.gameMidPoint.y),this.gMask.width=36,this.gMask.height=36,this.addChild(this.gMask),this.gameContainer.mask=this.gMask,this.gBackground=new n.Graphics,this.gBackground.beginFill(4276545),this.gBackground.drawCircle(this.gameMidPoint.x,this.gameMidPoint.y,this.gameRadius),this.gBackground.endFill(),this.gameContainer.addChild(this.gBackground),this.particleContainer=new n.particles.ParticleContainer(3e3,{scale:!0,position:!0,rotation:!1,uvs:!1,alpha:!0}),this.gameContainer.addChild(this.particleContainer),this.fallingStar=new bt(this.gametextextures.meteor,this.gameLeft,this.gameRight),this.fallingStar.anchor.set(.5,.5),this.fallingStar.x=this.gameMidPoint.x,this.fallingStar.y=this.gameMidPoint.y,this.fallingStar.tint=13426635,this.maxHypo=this.gameRadius-this.fallingStar.radius,this.particleContainer.addChild(this.fallingStar)}},{key:"initEvents",value:function(){this.pointerMoveOnBind=this.evt_pointerMove.bind(this),this.on("pointermove",this.pointerMoveOnBind),this.pointerUpOnBind=this.evt_pointerUp.bind(this),this.on("pointerup",this.pointerUpOnBind),this.pointerDownOnBind=this.evt_pointerDown.bind(this),this.on("pointerdown",this.pointerDownOnBind)}},{key:"enableControls",value:function(){this.controlsEnabled=!0}},{key:"disableControls",value:function(){this.controlsEnabled=!1,this.fallingStarMovementEnable=!1}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e),createjs.Tween.get(this.circularObject).to({alpha:1},t,e)}},{key:"animateIn2",value:function(t,e){this.gameContainer.visible=!0,createjs.Tween.get(this.circularObject).to({alpha:0,visible:!1},t,e),createjs.Tween.get(this.gameContainer).to({alpha:1},t,e)}},{key:"animateIn3",value:function(t,e){createjs.Tween.get(this.gMask).to({width:2*this.gameRadius,height:2*this.gameRadius},t,e)}},{key:"backOut1",value:function(t,e){createjs.Tween.get(this.gMask).to({width:36,height:36},t,e),createjs.Tween.get(this.fallingStar).to({x:this.gameMidPoint.x,y:this.gameMidPoint.y},t,e)}},{key:"backOut2",value:function(t,e){this.circularObject.visible=!0,createjs.Tween.get(this.circularObject).to({alpha:1},t,e),createjs.Tween.get(this.gameContainer).to({alpha:0,visible:!1},t,e)}},{key:"backOut3",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e),createjs.Tween.get(this.circularObject).to({alpha:0},t,e)}},{key:"animateOut1",value:function(t,e){createjs.Tween.get(this.gMask).to({width:36,height:36},t,e),createjs.Tween.get(this.circularObject).to({alpha:1},t,e),createjs.Tween.get(this.gameContainer).to({alpha:0},t,e),createjs.Tween.get(this.fallingStar).to({x:this.gameMidPoint.x,y:this.gameMidPoint.y},t,e)}},{key:"animateOut2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e)}},{key:"animateOut3",value:function(t,e){createjs.Tween.get(this.circularObject).to({width:0,height:0},t,e)}},{key:"backIn1",value:function(t,e){createjs.Tween.get(this.circularObject).to({width:40,height:40},t,e)}},{key:"backIn2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e)}},{key:"backIn3",value:function(t,e){createjs.Tween.get(this.gMask).to({width:2*this.gameRadius,height:2*this.gameRadius},t,e),createjs.Tween.get(this.circularObject).to({alpha:0},t,e),createjs.Tween.get(this.gameContainer).to({alpha:1},t,e)}},{key:"activate",value:function(){this.activated=!0}},{key:"deactivate",value:function(){this.activated=!1}},{key:"createTexture",value:function(){for(var t=new n.Container,e=0,i=0,a=512,s=512,r=2,h=0,o=[],l=0;l<this.individualTextures.length;l++){var c=new n.Sprite(S.images["assets/images/"+this.individualTextures[l]+".png"]);if(e+c.width>a&&(e=0,i+=h+r,h=0),i+c.height>s)throw"Reach max container size: update the max size.";c.x=e,c.y=i,o[l]={x:e,y:i,width:c.width,height:c.height},t.addChild(c),e+=c.width+r,h<c.height&&(h=c.height)}this.generatedTexture=Oi.renderer.generateTexture(t),this.gametextextures={};for(l=0;l<this.individualTextures.length;l++){var u=o[l];this.gametextextures[this.individualTextures[l]]=new n.Texture(this.generatedTexture,new n.Rectangle(u.x,u.y,u.width,u.height))}for(t.removeChildren(),t=null,e=null,i=null,a=null,s=null,r=null,h=null;o.length>0;){(u=o.pop()).x=null,u.y=null,u.width=null,u.height=null,u=null}o=null}},{key:"update",value:function(){this.activated&&(this.fallingStarMovementEnable&&this.fallingStar.updateMovement(this.currentPoint),this.fallingStar.update(),this.generateTrail(5),this.staticStarSpawnUpdate(),this.parallaxStarSpawnUpdate(),this.updateTrailPArticles(),this.staticStarUpdate(),this.parallaxStarUpdate(),this.checkCollision())}},{key:"generateTrail",value:function(t){for(var e=0;e<t;e++){var i=this.getTrailParticle(),n=2*Math.PI*Math.random(),a=this.fallingStar.radius*Math.random();i.x=a*Math.cos(n)+this.fallingStar.x,i.y=a*Math.sin(n)+this.fallingStar.y,i.velX=0,i.velY=0,this.activeTrailParticle.push(i),this.particleContainer.addChild(i)}}},{key:"getTrailParticle",value:function(){var t;return this.availableTrailParticle.length>0?t=this.availableTrailParticle.pop():((t=new n.Sprite(this.gametextextures.particle2)).tint=13426635,t.velX=0,t.velY=0,t.anchor.set(.5,.5)),t.alpha=.5*Math.random()+.5,t}},{key:"updateTrailPArticles",value:function(){for(var t=this.activeTrailParticle.length-1;t>=0;t--){var e=this.activeTrailParticle[t];e.x+=-this.fallingStar.getHorSpeed()+e.velX,e.y+=this.fallingStar.getVerSpeed()-e.velY,e.alpha-=.05,(e.y<this.gameTop||e.alpha<=0)&&this.returnTrail(e)}}},{key:"returnTrail",value:function(t){-1!=this.activeTrailParticle.indexOf(t)&&this.activeTrailParticle.splice(this.activeTrailParticle.indexOf(t),1),this.availableTrailParticle.push(t),this.particleContainer.removeChild(t)}},{key:"generateExplosionParticle",value:function(t,e,i,n,a){for(var s=0;s<t;s++){var r=this.getTrailParticle(),h=2*Math.PI*Math.random(),o=i*Math.random();r.x=o*Math.cos(h)+e.x,r.y=o*Math.sin(h)+e.y,r.velX=n,r.velY=a,this.activeTrailParticle.push(r),this.particleContainer.addChild(r)}}},{key:"staticStarSpawnUpdate",value:function(){this.starCurrentSpawnDistance+=this.fallingStar.getCurrentSpeed(),Math.random()<=this.starCurrentSpawnDistance/this.starSpawnDistanceLimit&&(this.spawnStar(),this.starCurrentSpawnDistance=0)}},{key:"spawnStar",value:function(){var t=this.getStaticStar(),e=this.fallingStar.currentAngle+(.5*Math.random()-.25)*Math.PI;t.x=(this.gameRadius+50)*Math.cos(e)+this.gameMidPoint.x,t.y=-(this.gameRadius+50)*Math.sin(e)+this.gameMidPoint.y,this.activeStars.push(t),this.particleContainer.addChild(t)}},{key:"getStaticStar",value:function(){var t;return(t=this.availableStars.length>0?this.availableStars.pop():new Tt(this.gametextextures["star"+Math.ceil(2*Math.random())])).init(),t}},{key:"staticStarUpdate",value:function(){for(var t=this.activeStars.length-1;t>=0;t--){var e=this.activeStars[t];e.x-=this.fallingStar.getHorSpeed(),e.y+=this.fallingStar.getVerSpeed(),P.getHypotenuseUsingOppositeAndAdjacent(e.x-this.gameMidPoint.x,e.y-this.gameMidPoint.y)>this.gameMaxRadius&&this.returnStar(e)}}},{key:"returnStar",value:function(t){-1!=this.activeStars.indexOf(t)&&this.activeStars.splice(this.activeStars.indexOf(t),1),this.availableStars.push(t),this.particleContainer.removeChild(t)}},{key:"parallaxStarSpawnUpdate",value:function(){this.parallaxCurrentSpawnDistance+=this.fallingStar.getCurrentSpeed(),Math.random()<=this.parallaxCurrentSpawnDistance/this.parallaxSpawnDistanceLimit&&(this.spawnParallaxStar(),this.parallaxCurrentSpawnDistance=0)}},{key:"spawnParallaxStar",value:function(){var t=this.getParallaxStar(),e=.1+.4*Math.random(),i=this.fallingStar.currentAngle+(.5*Math.random()-.25)*Math.PI;t.x=(this.gameRadius+50)*Math.cos(i)+this.gameMidPoint.x,t.y=-(this.gameRadius+50)*Math.sin(i)+this.gameMidPoint.y,t.scale.x=t.scale.y=e/.5*1,t.speedMultiplier=e,this.activeParallaxStars.push(t),this.particleContainer.addChild(t)}},{key:"getParallaxStar",value:function(){var t;return this.availableParallaxStars.length>0?t=this.availableParallaxStars.pop():((t=new n.Sprite(this.gametextextures.particle1)).anchor.set(.5,.5),t.tint=13426635),t}},{key:"parallaxStarUpdate",value:function(){for(var t=this.activeParallaxStars.length-1;t>=0;t--){var e=this.activeParallaxStars[t];e.x-=this.fallingStar.getHorSpeed()*e.speedMultiplier,e.y+=this.fallingStar.getVerSpeed()*e.speedMultiplier,P.getHypotenuseUsingOppositeAndAdjacent(e.x-this.gameMidPoint.x,e.y-this.gameMidPoint.y)>this.gameMaxRadius&&this.returnParallaxStar(e)}}},{key:"returnParallaxStar",value:function(t){-1!=this.activeParallaxStars.indexOf(t)&&this.activeParallaxStars.splice(this.activeParallaxStars.indexOf(t),1),this.availableParallaxStars.push(t),this.particleContainer.removeChild(t)}},{key:"checkCollision",value:function(){for(var t=this.activeStars.length-1;t>=0;t--)if(I.testSpriteCircleCollision(this.fallingStar,this.activeStars[t])){var e=this.activeStars[t],i=P.getAngleOfOppositeAndAdjacent(this.fallingStar.y-e.y,e.x-this.fallingStar.x),n=this.fallingStar.currentSpeed,a=this.fallingStar.currentAngle;a>270&&(a-=360);var s=this.fallingStar.weight,r=e.weight,h=(n*Math.cos(a-i)*(s-r)+2*r*0*Math.cos(0-i))/(s+r)*Math.cos(i)+n*Math.sin(a-i)*Math.cos(i+.5*Math.PI),o=(n*Math.cos(a-i)*(s-r)+2*r*0*Math.cos(0-i))/(s+r)*Math.sin(i)+n*Math.sin(a-i)*Math.sin(i+.5*Math.PI),l=(0*Math.cos(0-i)*(r-s)+2*s*n*Math.cos(a-i))/(r+s)*Math.cos(i)+0*Math.sin(0-i)*Math.cos(i+.5*Math.PI),c=(0*Math.cos(0-i)*(r-s)+2*s*n*Math.cos(a-i))/(r+s)*Math.sin(i)+0*Math.sin(0-i)*Math.sin(i+.5*Math.PI);this.fallingStar.collide(h,o),this.generateExplosionParticle(20,e.position,.5*e.width,l,c),this.returnStar(e)}}},{key:"evt_pointerMove",value:function(t){this.controlsEnabled&&this.updateCurrentPoint(t.data.getLocalPosition(this))}},{key:"evt_pointerUp",value:function(t){this.controlsEnabled&&(this.fallingStarMovementEnable=!1)}},{key:"evt_pointerDown",value:function(t){this.controlsEnabled&&(this.updateCurrentPoint(t.data.getLocalPosition(this)),this.fallingStarMovementEnable=!0)}},{key:"updateCurrentPoint",value:function(t){if(P.getHypotenuseOfTwoPoints(t,this.gameMidPoint)<=this.maxHypo)this.currentPoint=t;else{var e=P.getUnitCircleRadianAngle(this.gameMidPoint,t);this.currentPoint.x=Math.cos(e)*this.maxHypo+this.gameMidPoint.x,this.currentPoint.y=-Math.sin(e)*this.maxHypo+this.gameMidPoint.y}}}]),e}(),bt=function(t){function e(t,i,n){var a;return pt(this,e),(a=vt(this,yt(e).call(this,t))).init(i,n),a}return gt(e,n["Sprite"]),ft(e,[{key:"init",value:function(t,e){this.gameLeft=t,this.gameRight=e,this.speed=new n.Point(0,0),this.nextPos=new n.Point(0,0),this.currentSpeed=0,this.acceleration=.05,this.maxSpeed=14,this.weight=1,this.screenMovementSpeed=0,this.currentPos=new n.Point(0,0),this.currentAngle=1.25*Math.PI,this.radius=.5*this.texture.width}},{key:"getCurrentSpeed",value:function(){return this.currentSpeed}},{key:"getHorSpeed",value:function(){return this.speed.x}},{key:"getVerSpeed",value:function(){return this.speed.y}},{key:"update",value:function(){this.currentSpeed<this.maxSpeed?this.currentSpeed+=this.acceleration:this.currentSpeed=this.maxSpeed,this.screenMovementSpeed=.7*this.currentSpeed,this.speed.x=Math.cos(this.currentAngle)*this.currentSpeed,this.speed.y=Math.sin(this.currentAngle)*this.currentSpeed}},{key:"updateMovement",value:function(t){var e=P.getHypotenuseOfTwoPoints(t,this.position);if(this.screenMovementSpeed<e){var i=P.getUnitCircleRadianAngle(t,this.position),n=-Math.cos(i)*this.screenMovementSpeed,a=Math.sin(i)*this.screenMovementSpeed;this.x+=n,this.y+=a}else this.screenMovementSpeed>e&&(this.x=t.x,this.y=t.y)}},{key:"collide",value:function(t,e){this.speed.x=t,this.speed.y=e,this.nextPos.x=this.x+t,this.nextPos.y=this.y-e,this.currentSpeed=P.getHypotenuseUsingOppositeAndAdjacent(t,e),this.currentAngle=P.getUnitCircleRadianAngle(this.position,this.nextPos)}}]),e}(),Tt=function(t){function e(t){var i;return pt(this,e),(i=vt(this,yt(e).call(this,t))).anchor.set(.5,.5),i.tint=14540747,i}return gt(e,n["Sprite"]),ft(e,[{key:"init",value:function(){var t=.5*Math.random()+.4;this.weight=t,this.velX=0,this.velY=0,this.scale.x=t,this.scale.y=t}},{key:"updateAlpha",value:function(){}}]),e}(),kt=wt;function xt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ct=function(){function t(e,i,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.h=e,this.g=i,this.f=e+i,this.parent=n,this.point=a}return function(t,e,i){e&&xt(t.prototype,e),i&&xt(t,i)}(t,[{key:"update",value:function(t,e,i,n){this.h=t,this.g=e,this.f=t+e,this.parent=i,this.point=n}},{key:"reset",value:function(){this.h=null,this.g=null,this.f=null,this.parent=null,this.point=null}},{key:"returnThisNode",value:function(){this.reset(),t.availableNodes.push(this)}}],[{key:"getNode",value:function(e,i,n,a){var s;return void 0==t.availableNodes&&(t.availableNodes=[]),t.availableNodes.length>0?(s=t.availableNodes.pop()).update(e,i,n,a):s=new t(e,i,n,a),s}}]),t}();function St(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ot=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodeArray=[]}return function(t,e,i){e&&St(t.prototype,e),i&&St(t,i)}(t,[{key:"push",value:function(t){this.nodeArray.push(t),this.nodeArray.length>1&&this.swapUp(this.nodeArray.length-1)}},{key:"pop",value:function(){var t=this.nodeArray[0];return this.nodeArray[0]=this.nodeArray[this.nodeArray.length-1],this.nodeArray.pop(),this.adjust(0),t}},{key:"longPop",value:function(){var t=this.nodeArray[0];return this.nodeArray[0]=this.nodeArray[this.nodeArray.length-1],this.nodeArray.pop(),this.longAdjust(0),t}},{key:"adjust",value:function(t){var e=2*t+1,i=2*t+2;null==this.nodeArray[i]&&null!=this.nodeArray[e]?this.nodeArray[t].f>=this.nodeArray[e].f&&(this.swap(t,e),this.adjust(e)):null!=this.nodeArray[i]&&null!=this.nodeArray[e]&&(this.nodeArray[e].f<this.nodeArray[i].f?this.nodeArray[t].f>=this.nodeArray[e].f&&(this.swap(t,e),this.adjust(e)):this.nodeArray[t].f>this.nodeArray[i].f&&(this.swap(t,i),this.adjust(i)))}},{key:"longAdjust",value:function(t){var e=2*t+1,i=2*t+2;null==this.nodeArray[i]&&null!=this.nodeArray[e]?this.nodeArray[t].f<this.nodeArray[e].f&&(this.swap(t,e),this.longAdjust(e)):null!=this.nodeArray[i]&&null!=this.nodeArray[e]&&(this.nodeArray[e].f<this.nodeArray[i].f?this.nodeArray[t].f<this.nodeArray[e].f&&(this.swap(t,e),this.longAdjust(e)):this.nodeArray[t].f<=this.nodeArray[i].f&&(this.swap(t,i),this.longAdjust(i)))}},{key:"peak",value:function(){return this.nodeArray[0]}},{key:"get_size",value:function(){return this.nodeArray.length}},{key:"swapUp",value:function(t){var e=(t-1)/2;e=e>0?Math.floor(e):Math.ceil(e),this.nodeArray[t].f<this.nodeArray[e].f&&(this.swap(t,e),this.swapUp(e))}},{key:"swap",value:function(t,e){var i=this.nodeArray[t];this.nodeArray[t]=this.nodeArray[e],this.nodeArray[e]=i}},{key:"reset",value:function(){this.nodeArray=[]}}],[{key:"getNodeHeap",value:function(){return null==t.nodeHeap?t.nodeHeap=new t:t.nodeHeap.reset(),t.nodeHeap}}]),t}();function Pt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var jt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e,this.openList,this.closedList,this.horizontalDisplacement}return function(t,e,i){e&&Pt(t.prototype,e),i&&Pt(t,i)}(t,[{key:"getPath",value:function(t,e,i){var a=Ct.getNode(this.computeManhattanDistance(e,t),0,null,e);for(this.openList=Ot.getNodeHeap(),this.closedList=[],this.openList.push(a),this.horizontalDisplacement=null;this.openList.get_size()>0;){var s=this.openList.pop();if(this.closedList.push(s),null!=s.parent&&(s.point.x==s.parent.point.x?this.horizontalDisplacement=!1:this.horizontalDisplacement=!0),s.point.x==t.x&&s.point.y==t.y){a=s;break}0!=s.point.x&&this.addNodeToOpenList(new n.Point(s.point.x-1,s.point.y),s,t,!0,i),0!=s.point.y&&this.addNodeToOpenList(new n.Point(s.point.x,s.point.y-1),s,t,!1,i),s.point.x!=this.map[0].length-1&&this.addNodeToOpenList(new n.Point(s.point.x+1,s.point.y),s,t,!0,i),s.point.y!=this.map.length-1&&this.addNodeToOpenList(new n.Point(s.point.x,s.point.y+1),s,t,!1,i)}return a}},{key:"getLongPath",value:function(t,e,i){var a=Ct.getNode(this.computeManhattanDistance(e,t),0,null,e);for(this.openList=Ot.getNodeHeap(),this.closedList=[],this.openList.push(a),this.horizontalDisplacement=null;this.openList.get_size()>0;){var s=this.openList.pop();if(this.closedList.push(s),null!=s.parent&&(s.point.x==s.parent.point.x?this.horizontalDisplacement=!1:this.horizontalDisplacement=!0),s.point.x==t.x&&s.point.y==t.y){a=s;break}0!=s.point.x&&this.addNodeToOpenList(new n.Point(s.point.x-1,s.point.y),s,t,!0,i),0!=s.point.y&&this.addNodeToOpenList(new n.Point(s.point.x,s.point.y-1),s,t,!1,i),s.point.x!=this.map[0].length-1&&this.addNodeToOpenList(new n.Point(s.point.x+1,s.point.y),s,t,!0,i),s.point.y!=this.map.length-1&&this.addNodeToOpenList(new n.Point(s.point.x,s.point.y+1),s,t,!1,i)}return a}},{key:"addNodeToOpenList",value:function(t,e,i,n,a){if(!this.checkNodeIfInClosedList(this.closedList,t)&&this.map[Math.floor(t.y)][Math.floor(t.x)]<1&&(null==a||a.x!=t.x||a.y!=t.y)){var s=0;this.horizontalDisplacement!=n&&(s=1);var r=Ct.getNode(this.computeManhattanDistance(t,i),e.g+2+s,e,t);this.openList.push(r)}}},{key:"checkNodeIfInClosedList",value:function(t,e){for(var i=0;i<this.closedList.length;i++)if(this.closedList[i].point.x==e.x&&this.closedList[i].point.y==e.y)return!0;return!1}},{key:"computeManhattanDistance",value:function(t,e){var i=Math.abs(t.x-e.x);return i+=Math.abs(t.y-e.y),Math.floor(i)}}]),t}();function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Et(t,e,i){return e&&Dt(t.prototype,e),i&&Dt(t,i),t}function It(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bt=Object.freeze({LEFT:Symbol("left"),RIGHT:Symbol("right"),UP:Symbol("up"),DOWN:Symbol("down"),IDLE:Symbol("idle")}),Ft=Object.freeze({ORANGE:Symbol("orange"),BLUE:Symbol("blue"),NEUTRAL:Symbol("neutral")}),Wt=function(t){function e(){var t;return _t(this,e),(t=It(this,At(e).call(this))).init(),t}return Lt(e,n["Container"]),Et(e,[{key:"init",value:function(){this.initProps(),this.initGraphics(),this.initEvents()}},{key:"initProps",value:function(){this.interactive=!0,this.activated=!1,this.onMouseDown=!1,this.initialTouchPoint=new n.Point(0,0),this.swipeH=30,this.individualTextures=["ai_tile1","ai_tile2","ai_tile3","ai_tile4","ai_tile5","ai_tile6","ai_tile7"],this.tileData=[[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,-2,-3,2],[2,0,1,0,1,0,1,0,1,1,1,-2,2],[2,0,0,0,1,0,0,0,0,0,0,0,2],[2,0,1,0,1,0,1,0,1,0,1,0,2],[2,0,0,0,0,0,0,0,1,0,0,0,2],[2,-1,1,1,1,0,1,0,1,0,1,0,2],[2,-4,-1,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]],this.pathFinder=new jt(this.tileData)}},{key:"initGraphics",value:function(){this.eventFrame=new n.Graphics,this.eventFrame.beginFill(16777215),this.eventFrame.drawRect(.5*-Oi.baseWidth,.5*-Oi.baseHeight,Oi.baseWidth,Oi.baseHeight),this.eventFrame.endFill(),this.eventFrame.alpha=0,this.addChild(this.eventFrame),this.iconContainer=new n.Graphics,this.iconContainer.beginFill(16777215),this.iconContainer.drawCircle(0,0,50),this.iconContainer.endFill(),this.iconContainer.tint=353649,this.iconContainer.x=-280,this.iconContainer.y=260,this.iconContainer.alpha=0,this.addChild(this.iconContainer),this.icon=new n.Sprite(S.images["assets/images/sp2.png"]),this.icon.anchor.set(.5,.5),this.icon.tint=4276545,this.icon.x=-280,this.icon.y=260,this.icon.alpha=0,this.addChild(this.icon),this.text=new PIXI.Text("GAME AI",{fontSize:30,fontFamily:"font1",fill:"#414141",align:"center"}),this.text.anchor.set(.5,.5),this.text.x=-280,this.text.y=340,this.text.alpha=0,this.addChild(this.text),this.disText=new PIXI.Text("Handled different projects that requires FSM or pathfinding alogorithm.",{fontSize:22,fontFamily:"font2",fill:"#414141",align:"left",wordWrap:!0,wordWrapWidth:520}),this.disText.anchor.set(.5,.5),this.disText.x=80,this.disText.y=290,this.disText.alpha=0,this.addChild(this.disText),this.gameContainer=new n.Container,this.gameContainer.x=-357.5,this.gameContainer.y=-327.5,this.addChild(this.gameContainer),this.tileMap=new n.particles.ParticleContainer(3e3,{scale:!0,position:!0,rotation:!0,uvs:!0,alpha:!0}),this.gameContainer.addChild(this.tileMap),this.createTexture(),this.initTiles(),this.randomTiles=this.shuffleArray(this.randomTiles),this.character=new Ht,this.gameContainer.addChild(this.character),this.enemies=[];for(var t=0;t<2;t++){var e=new Gt(t);this.enemies.push(e),this.gameContainer.addChild(e)}}},{key:"initEvents",value:function(){this.spawnEnemiesWithBind=this.spawnEnemies.bind(this),this.character.on("COLOR_CHANGED",this.spawnEnemiesWithBind),this.enemyReachNextPathWithBind=this.enemyReachNextPath.bind(this),this.enemies[0].on("REACHED_TILE",this.enemyReachNextPathWithBind),this.enemies[1].on("REACHED_TILE",this.enemyReachNextPathWithBind),this.onTouchStartWithBind=this.evt_touchStart.bind(this),this.on("touchstart",this.onTouchStartWithBind),this.onTouchEndWithBind=this.evt_touchEnd.bind(this),this.on("touchend",this.onTouchEndWithBind),this.onTouchMoveWithBind=this.evt_touchMove.bind(this),this.on("touchmove",this.onTouchMoveWithBind)}},{key:"initTiles",value:function(){this.tiles=[],this.randomTiles=[];for(var t=0;t<this.tileData.length;t++){for(var e=[],i=0;i<this.tileData[t].length;i++){var a=new n.Sprite(this.gametextextures.ai_tile3),s=this.tileData[t][i];a.data=s,a.anchor.set(.5,.5),a.x=55*i+27.5,a.y=55*t+27.5,a.scale.x=0,a.scale.y=0,a.mapPos=new n.Point(i,t),-1==a.data||-4==a.data?a.tint=353649:-2==a.data||-3==a.data?a.tint=16738908:a.tint=4276545,e.push(a),a.data<2?this.randomTiles.push(a):a.visible=!1,this.tileMap.addChild(a)}this.tiles.push(e)}this.setSurroundingTiles()}},{key:"setSurroundingTiles",value:function(){for(var t=0;t<this.tiles.length;t++)for(var e=0;e<this.tiles[t].length;e++){var i=this.tiles[t][e];i.top=t>0?this.tiles[t-1][e]:null,t<this.tiles.length-1?i.bottom=this.tiles[t+1][e]:i.bottom=null,i.left=e>0?this.tiles[t][e-1]:null,e<this.tiles[t].length-1?i.right=this.tiles[t][e+1]:i.right=null,this.initTileTexture(i)}}},{key:"initTileTexture",value:function(t){if(t.data<=0){var e=0,i=null;t.bottom.data<=0&&(e++,t.right.data>0&&(i=Bt.RIGHT)),t.left.data<=0&&(e++,t.bottom.data>0&&(i=Bt.DOWN)),t.top.data<=0&&(e++,t.left.data>0&&(i=Bt.LEFT)),t.right.data<=0&&(e++,t.top.data>0&&(i=Bt.UP)),4==e?(t.texture=this.gametextextures.ai_tile4,t.rotation=0):3==e?(t.texture=this.gametextextures.ai_tile5,this.rotateTile(t,i)):2==e&&(t.left.data<=0&&t.right.data<=0||t.top.data<=0&&t.bottom.data<=0?0==t.data?t.texture=this.gametextextures.ai_tile7:t.texture=this.gametextextures.ai_tile2:-4==t.data||-3==t.data?t.texture=this.gametextextures.ai_tile1:t.texture=this.gametextextures.ai_tile6,this.rotateTile(t,i))}}},{key:"rotateTile",value:function(t,e){e==Bt.DOWN?t.rotation=0:e==Bt.LEFT?t.rotation=.5*Math.PI:e==Bt.UP?t.rotation=Math.PI:t.rotation=1.5*Math.PI}},{key:"shuffleArray",value:function(t){for(var e=t.length,i=0,n=0;0!==e;)n=Math.floor(Math.random()*e),i=t[e-=1],t[e]=t[n],t[n]=i;return t}},{key:"createTexture",value:function(){for(var t=new n.Container,e=0,i=0,a=512,s=512,r=2,h=0,o=[],l=0;l<this.individualTextures.length;l++){var c=new n.Sprite(S.images["assets/images/"+this.individualTextures[l]+".png"]);if(e+c.width>a&&(e=0,i+=h+r,h=0),i+c.height>s)throw"Reach max container size: update the max size.";c.x=e,c.y=i,o[l]={x:e,y:i,width:c.width,height:c.height},t.addChild(c),e+=c.width+r,h<c.height&&(h=c.height)}this.generatedTexture=Oi.renderer.generateTexture(t),this.gametextextures={};for(l=0;l<this.individualTextures.length;l++){var u=o[l];this.gametextextures[this.individualTextures[l]]=new n.Texture(this.generatedTexture,new n.Rectangle(u.x,u.y,u.width,u.height))}for(t.removeChildren(),t=null,e=null,i=null,a=null,s=null,r=null,h=null;o.length>0;){(u=o.pop()).x=null,u.y=null,u.width=null,u.height=null,u=null}o=null}},{key:"activate",value:function(){this.activated=!0,this.onMouseDown=!1}},{key:"deactivate",value:function(){this.activated=!1,this.onMouseDown=!1}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e)}},{key:"animateIn2",value:function(t,e,i){for(var n=t-i*this.randomTiles.length,a=0;a<this.randomTiles.length;a++){var s=this.randomTiles[a];createjs.Tween.get(s.scale).wait(i*a).to({x:1,y:1},n,e)}}},{key:"animateIn3",value:function(t,e){this.character.spawn(this.tiles[7][6],t,e)}},{key:"backOut1",value:function(t,e){this.character.despawn(t,e),this.enemies[0].despawn(),this.enemies[1].despawn()}},{key:"backOut2",value:function(t,e,i){for(var n=t-i*this.randomTiles.length,a=0;a<this.randomTiles.length;a++){var s=this.randomTiles[a];createjs.Tween.get(s.scale).wait(i*a).to({x:0,y:0},n,e)}}},{key:"backOut3",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e)}},{key:"animateOut1",value:function(t,e,i){for(var n=t-i*this.randomTiles.length,a=0;a<this.randomTiles.length;a++){var s=this.randomTiles[a];createjs.Tween.get(s.scale).wait(i*a).to({x:0,y:0},n,e)}this.character.despawn(t,e),this.enemies[0].despawn(),this.enemies[1].despawn()}},{key:"animateOut2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e)}},{key:"backIn1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e)}},{key:"backIn2",value:function(t,e,i){for(var n=t-i*this.randomTiles.length,a=0;a<this.randomTiles.length;a++){var s=this.randomTiles[a];createjs.Tween.get(s.scale).wait(i*a).to({x:1,y:1},n,e)}}},{key:"backIn3",value:function(t,e){this.character.spawn(this.tiles[7][6],t,e)}},{key:"update",value:function(){this.activated&&(this.character.update(),this.enemies[0].update(),this.enemies[1].update(),this.checkCollision())}},{key:"onKeyDown",value:function(t){this.activated&&("ArrowRight"==t.key?this.character.changeDirection(Bt.RIGHT):"ArrowLeft"==t.key?this.character.changeDirection(Bt.LEFT):"ArrowUp"==t.key?this.character.changeDirection(Bt.UP):"ArrowDown"==t.key&&this.character.changeDirection(Bt.DOWN))}},{key:"spawnEnemies",value:function(t){t==Ft.ORANGE?(this.enemies[0].spawn(this.tiles[6][1],Ft.BLUE),this.enemies[1].spawn(this.tiles[7][2],Ft.BLUE)):t==Ft.BLUE&&(this.enemies[0].spawn(this.tiles[1][10],Ft.ORANGE),this.enemies[1].spawn(this.tiles[2][11],Ft.ORANGE))}},{key:"setNextPath",value:function(t){if(this.activated){var e=new n.Point(this.character.currentTile.mapPos.x,this.character.currentTile.mapPos.y),i=this.pathFinder.getPath(t.currentTile.mapPos,e,t.prevPoint);null!=i.parent&&t.setNextPath(this.tiles[i.parent.point.y][i.parent.point.x])}}},{key:"collided",value:function(){this.activated&&(this.character.currentColor==Ft.BLUE?this.character.changeColor(Ft.ORANGE):this.character.currentColor==Ft.ORANGE&&this.character.changeColor(Ft.BLUE))}},{key:"enemyReachNextPath",value:function(t){this.setNextPath(t)}},{key:"checkCollision",value:function(){this.enemies[0].spawned&&I.testCircleCollision3(this.enemies[0],this.enemies[1],this.enemies[0].speed,this.enemies[1].speed)&&this.enemies[0].goBack(this.tiles[this.enemies[0].prevPoint.y][this.enemies[0].prevPoint.x]);for(var t=0;t<2;t++)if(this.enemies[t].spawned&&I.testSpriteCircleCollisionPercentage(this.character,this.enemies[t],.25))return void this.collided()}},{key:"evt_touchStart",value:function(t){this.activated&&(this.onMouseDown=!0,this.initialTouchPoint=t.data.getLocalPosition(this))}},{key:"evt_touchEnd",value:function(t){this.activated&&this.onMouseDown&&(P.getHypotenuseOfTwoPoints(this.initialTouchPoint,t.data.getLocalPosition(this))>=this.swipeH&&(this.onTouchControl(P.getUnitCircleAngle(this.initialTouchPoint,t.data.getLocalPosition(this))),this.onMouseDown=!1))}},{key:"evt_touchMove",value:function(t){this.activated&&this.onMouseDown&&(P.getHypotenuseOfTwoPoints(this.initialTouchPoint,t.data.getLocalPosition(this))>=this.swipeH&&(this.onTouchControl(P.getUnitCircleAngle(this.initialTouchPoint,t.data.getLocalPosition(this))),this.onMouseDown=!1))}},{key:"onTouchControl",value:function(t){t>=45&&t<135?this.character.changeDirection(Bt.UP):t>=135&&t<225?this.character.changeDirection(Bt.LEFT):t>=225&&t<315?this.character.changeDirection(Bt.DOWN):this.character.changeDirection(Bt.RIGHT)}}]),e}(),Ht=function(t){function e(){var t;return _t(this,e),(t=It(this,At(e).call(this))).init(),t}return Lt(e,n["Container"]),Et(e,[{key:"init",value:function(){this.spawned=!1,this.speed=2.5,this.newX=0,this.newY=0,this.currentDirection=Bt.IDLE,this.newDirection=Bt.IDLE,this.currentColor=Ft.NEUTRAL,this.currentTile=null,this.graphics=new n.Graphics,this.graphics.beginFill(16777215),this.graphics.drawPolygon(13.858192987669302,5.740251485476347,5.740251485476348,13.858192987669302,-5.740251485476346,13.858192987669302,-13.858192987669302,5.740251485476349,-13.858192987669304,-5.740251485476345,-5.740251485476355,-13.858192987669298,5.7402514854763504,-13.8581929876693,13.858192987669298,-5.740251485476356),this.graphics.endFill(),this.graphics.tint=4276545,this.graphics.scale.x=0,this.graphics.scale.y=0,this.addChild(this.graphics),this.highlight=new n.Graphics,this.highlight.beginFill(16777215),this.highlight.drawPolygon(13.858192987669302,5.740251485476347,5.740251485476348,13.858192987669302,-5.740251485476346,13.858192987669302,-13.858192987669302,5.740251485476349,-13.858192987669304,-5.740251485476345,-5.740251485476355,-13.858192987669298,5.7402514854763504,-13.8581929876693,13.858192987669298,-5.740251485476356),this.highlight.endFill(),this.highlight.tint=4276545,this.highlight.scale.x=0,this.highlight.scale.y=0,this.addChild(this.highlight)}},{key:"spawn",value:function(t,e,i){this.currentTile=t,this.x=this.currentTile.x,this.y=this.currentTile.y,this.newX=this.x,this.newY=this.y,this.changeColor(Ft.NEUTRAL),createjs.Tween.get(this.graphics.scale).to({x:1,y:1},e,i).call(this.spawnCompleted,[],this)}},{key:"spawnCompleted",value:function(){this.spawned=!0,this.highlight.scale.x=1,this.highlight.scale.y=1,this.changeDirection(Bt.LEFT)}},{key:"despawn",value:function(t,e){createjs.Tween.get(this.graphics.scale).to({x:0,y:0},t,e),createjs.Tween.get(this.highlight.scale).to({x:0,y:0},t,e)}},{key:"changeDirection",value:function(t){this.currentDirection==Bt.IDLE||this.checkIfDirectionIsParallel(this.currentDirection,t)?(this.newDirection=t,this.currentDirection=t):this.currentDirection!=t&&(this.newDirection=t)}},{key:"updateToNewDirection",value:function(){this.currentDirection=this.newDirection}},{key:"checkIfDirectionIsParallel",value:function(t,e){return t==Bt.LEFT&&e==Bt.RIGHT||t==Bt.RIGHT&&e==Bt.LEFT||t==Bt.UP&&e==Bt.DOWN||t==Bt.DOWN&&e==Bt.UP}},{key:"update",value:function(){this.spawned&&(this.updateNewPosition(),this.updatePosition())}},{key:"updateNewPosition",value:function(){this.currentDirection==Bt.LEFT?this.updateMoveLeft(this.speed):this.currentDirection==Bt.RIGHT?this.updateMoveRight(this.speed):this.currentDirection==Bt.UP?this.updateMoveUp(this.speed):this.currentDirection==Bt.DOWN&&this.updateMoveDown(this.speed)}},{key:"updateMoveLeft",value:function(t){if(this.newX-=t,this.newX<this.currentTile.x){if(this.updateMoveVertical(this.currentTile.x-this.newX))return;this.currentTile.left.data>0?(this.newX=this.currentTile.x,this.stop()):this.updateCurrentTile(this.currentTile.left)}}},{key:"updateMoveRight",value:function(t){if(this.newX+=t,this.newX>this.currentTile.x){if(this.updateMoveVertical(this.newX-this.currentTile.x))return;this.currentTile.right.data>0?(this.newX=this.currentTile.x,this.stop()):this.updateCurrentTile(this.currentTile.right)}}},{key:"updateMoveUp",value:function(t){if(this.newY-=t,this.newY<this.currentTile.y){if(this.updateMoveHorizontal(this.currentTile.y-this.newY))return;this.currentTile.top.data>0?(this.newY=this.currentTile.y,this.stop()):this.updateCurrentTile(this.currentTile.top)}}},{key:"updateMoveDown",value:function(t){if(this.newY+=t,this.newY>this.currentTile.y){if(this.updateMoveHorizontal(this.newY-this.currentTile.y))return;this.currentTile.bottom.data>0?(this.newY=this.currentTile.y,this.stop()):this.updateCurrentTile(this.currentTile.bottom)}}},{key:"updateMoveVertical",value:function(t){return this.newDirection==Bt.UP&&this.currentTile.top.data<=0?(this.newX=this.currentTile.x,this.updateMoveUp(t),this.updateToNewDirection(),!0):this.newDirection==Bt.DOWN&&this.currentTile.bottom.data<=0&&(this.newX=this.currentTile.x,this.updateMoveDown(t),this.updateToNewDirection(),!0)}},{key:"updateMoveHorizontal",value:function(t){return this.newDirection==Bt.LEFT&&this.currentTile.left.data<=0?(this.newY=this.currentTile.y,this.updateMoveLeft(t),this.updateToNewDirection(),!0):this.newDirection==Bt.RIGHT&&this.currentTile.right.data<=0&&(this.newY=this.currentTile.y,this.updateMoveRight(t),this.updateToNewDirection(),!0)}},{key:"updateCurrentTile",value:function(t){this.currentTile=t,-4==this.currentTile.data&&this.currentColor!=Ft.BLUE?this.changeColor(Ft.BLUE):-3==this.currentTile.data&&this.currentColor!=Ft.ORANGE&&this.changeColor(Ft.ORANGE)}},{key:"changeColor",value:function(t){this.currentColor=t,t==Ft.BLUE?this.graphics.tint=353649:t==Ft.ORANGE?this.graphics.tint=16738908:this.graphics.tint=4276545,createjs.Tween.get(this.highlight.scale).to({x:0,y:0},500,createjs.Ease.cubicInOut).call(this.changeColor2,[],this),this.emit("COLOR_CHANGED",this.currentColor)}},{key:"changeColor2",value:function(){this.highlight.tint=this.graphics.tint,this.highlight.scale.x=1,this.highlight.scale.y=1}},{key:"updatePosition",value:function(){this.spawned&&this.currentDirection!=Bt.IDLE&&(this.x=this.newX,this.y=this.newY,this.rotation-=.05,this.rotation<=6.28318530718&&(this.rotation+=6.28318530718))}},{key:"stop",value:function(){this.newDirection=Bt.IDLE,this.currentDirection=Bt.IDLE}}]),e}(),Gt=function(t){function e(t){var i;return _t(this,e),(i=It(this,At(e).call(this))).init(t),i}return Lt(e,n["Container"]),Et(e,[{key:"init",value:function(t){this.spawned=!1,this.path=null,0==t?(this.xPlus=0,this.yPlus=3,this.speed=2.5):(this.xPlus=3,this.yPlus=0,this.speed=2.5),this.prevPoint=null,this.remainingSpeed=0,this.graphics=new n.Graphics,this.graphics.beginFill(16777215),this.graphics.drawRect(-12,-12,24,24),this.graphics.endFill(),this.graphics.tint=4276545,this.graphics.rotation=.25*Math.PI,this.graphics.scale.x=0,this.graphics.scale.y=0,this.addChild(this.graphics)}},{key:"spawn",value:function(t,e){this.spawned?(this.despawn(),createjs.Tween.get(this).wait(500).call(this.spawn,[t,e],this)):(this.prevPoint=null,this.currentTile=t,e==Ft.BLUE?this.graphics.tint=353649:e==Ft.ORANGE&&(this.graphics.tint=16738908),this.x=this.currentTile.x,this.y=this.currentTile.y,this.graphics.scale.x=0,this.graphics.scale.y=0,createjs.Tween.get(this.graphics.scale).to({x:1,y:1},500,createjs.Ease.cubicInOut).call(this.spawn2,[],this))}},{key:"spawn2",value:function(){this.spawned=!0}},{key:"despawn",value:function(){this.spawned=!1,createjs.Tween.get(this.graphics.scale).to({x:0,y:0},500,createjs.Ease.cubicInOut)}},{key:"setNextPath",value:function(t){this.prevPoint=this.currentTile.mapPos,this.currentTile=t,this.updateHorizontalMovement(),this.updateVerticalMovement()}},{key:"update",value:function(){this.spawned&&(this.remainingSpeed=this.speed,this.updateHorizontalMovement(),this.updateVerticalMovement(),this.x==this.currentTile.x&&this.y==this.currentTile.y&&this.emit("REACHED_TILE",this),this.rotation+=.1,this.rotation>=6.28318530718&&(this.rotation-=6.28318530718))}},{key:"updateHorizontalMovement",value:function(){this.x>this.currentTile.x?(this.x-=this.remainingSpeed,this.x<this.currentTile.x?(this.remainingSpeed=this.currentTile.x-this.x,this.x=this.currentTile.x):this.remainingSpeed=0):this.x<this.currentTile.x&&(this.x+=this.remainingSpeed,this.x>this.currentTile.x?(this.remainingSpeed=this.x-this.currentTile.x,this.x=this.currentTile.x):this.remainingSpeed=0)}},{key:"updateVerticalMovement",value:function(){this.y>this.currentTile.y?(this.y-=this.remainingSpeed,this.y<this.currentTile.y?(this.remainingSpeed=this.currentTile.y-this.y,this.y=this.currentTile.y):this.remainingSpeed=0):this.y<this.currentTile.y&&(this.y+=this.remainingSpeed,this.y>this.currentTile.y?(this.remainingSpeed=this.y-this.currentTile.y,this.y=this.currentTile.y):this.remainingSpeed=0)}},{key:"goBack",value:function(t){this.prevPoint=this.currentTile.mapPos,this.currentTile=t}}]),e}(),Ut=Wt;function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yt(t,e,i){return e&&Nt(t.prototype,e),i&&Nt(t,i),t}function Vt(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qt=function(t){function e(){var t;return zt(this,e),(t=Vt(this,Jt(e).call(this))).init(),t}return Kt(e,n["Container"]),Yt(e,[{key:"init",value:function(){this.initProps(),this.initGraphics(),this.initEvents()}},{key:"initProps",value:function(){this.interactive=!0,this.individualTextures=["tile1","particle2","circle"],this.mapDistance=0,this.currentDistance=0,this.activated=!1,this.availableTrailParticle=[],this.activeTrailParticle=[],this.starCurrentSpawnDistance=0,this.starSpawnDistanceLimit=1e3,this.collisionEnabled=!1,this.activeStars=[],this.availableStars=[],this.activeCollectibles=[],this.availableCollectibles=[]}},{key:"initGraphics",value:function(){this.eventFrame=new n.Graphics,this.eventFrame.beginFill(16777215),this.eventFrame.drawRect(.5*-Oi.baseWidth,.5*-Oi.baseHeight,Oi.baseWidth,Oi.baseHeight),this.eventFrame.endFill(),this.eventFrame.alpha=0,this.addChild(this.eventFrame),this.iconContainer=new n.Graphics,this.iconContainer.beginFill(16777215),this.iconContainer.drawCircle(0,0,50),this.iconContainer.endFill(),this.iconContainer.tint=353649,this.iconContainer.x=-280,this.iconContainer.y=260,this.iconContainer.alpha=0,this.addChild(this.iconContainer),this.icon=new n.Sprite(S.images["assets/images/sp3.png"]),this.icon.anchor.set(.5,.5),this.icon.tint=4276545,this.icon.x=-280,this.icon.y=260,this.icon.alpha=0,this.addChild(this.icon),this.text=new PIXI.Text("PHYSICS",{fontSize:30,fontFamily:"font1",fill:"#414141",align:"center"}),this.text.anchor.set(.5,.5),this.text.x=-280,this.text.y=340,this.text.alpha=0,this.addChild(this.text),this.disText=new PIXI.Text("Experienced programmer of 2D Physics that includes collision detection, particle system and projectile.",{fontSize:22,fontFamily:"font2",fill:"#414141",align:"left",wordWrap:!0,wordWrapWidth:520}),this.disText.anchor.set(.5,.5),this.disText.x=80,this.disText.y=290,this.disText.alpha=0,this.addChild(this.disText),this.gameContainer=new n.Container,this.gameContainer.x=-302.5,this.gameContainer.y=-327.5,this.gameContainer.alpha=0,this.addChild(this.gameContainer),this.gMask=new n.Graphics,this.gMask.beginFill(16777215),this.gMask.drawRect(0,-50,605,545),this.gMask.endFill(),this.gameContainer.mask=this.gMask,this.gameContainer.addChild(this.gMask),this.tileMap=new n.particles.ParticleContainer(3e3,{scale:!0,position:!0,rotation:!1,uvs:!1,alpha:!0}),this.gameContainer.addChild(this.tileMap),this.createTexture(),this.initBottomTiles(),this.character=new Zt,this.character.x=110,this.character.y=364,this.character.alpha=0,this.gameContainer.addChild(this.character),this.floatingTiles=[],this.availableFloatingTiles=[],this.collectibleSpawnPercentage=.6,this.starPerfectPathPercentage=.6}},{key:"initEvents",value:function(){this.onMouseDownWithBind=this.evt_mouseDown.bind(this),this.on("pointerdown",this.onMouseDownWithBind)}},{key:"initBottomTiles",value:function(){this.bottomTiles=[];for(var t=0;t<13;t++){var e;(e=new n.Sprite(this.gametextextures.tile1)).tint=4276545,e.baseX=55*t,e.x=e.baseX,e.y=385,this.bottomTiles.push(e),this.tileMap.addChild(e)}}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e)}},{key:"animateIn2",value:function(t,e){createjs.Tween.get(this.gameContainer).to({alpha:1},t,e),createjs.Tween.get(this.character).to({alpha:1},t,e)}},{key:"backOut1",value:function(t,e){createjs.Tween.get(this.character).to({alpha:0},t,e),createjs.Tween.get(this.gameContainer).to({alpha:0},t,e)}},{key:"backOut2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e)}},{key:"animateOut1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e),createjs.Tween.get(this.tileMap).to({alpha:0},t,e)}},{key:"animateOut2",value:function(t,e){this.character.savePrevPos(),createjs.Tween.get(this.character).to({x:302.5,y:247.5},t,e)}},{key:"backIn1",value:function(t,e){createjs.Tween.get(this.character).to({x:this.character.prevX,y:this.character.prevY},t,e)}},{key:"backIn2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e),createjs.Tween.get(this.tileMap).to({alpha:1},t,e)}},{key:"createTexture",value:function(){for(var t=new n.Container,e=0,i=0,a=512,s=512,r=2,h=0,o=[],l=0;l<this.individualTextures.length;l++){var c=new n.Sprite(S.images["assets/images/"+this.individualTextures[l]+".png"]);if(e+c.width>a&&(e=0,i+=h+r,h=0),i+c.height>s)throw"Reach max container size: update the max size.";c.x=e,c.y=i,o[l]={x:e,y:i,width:c.width,height:c.height},t.addChild(c),e+=c.width+r,h<c.height&&(h=c.height)}this.generatedTexture=Oi.renderer.generateTexture(t),this.gametextextures={};for(l=0;l<this.individualTextures.length;l++){var u=o[l];this.gametextextures[this.individualTextures[l]]=new n.Texture(this.generatedTexture,new n.Rectangle(u.x,u.y,u.width,u.height))}for(t.removeChildren(),t=null,e=null,i=null,a=null,s=null,r=null,h=null;o.length>0;){(u=o.pop()).x=null,u.y=null,u.width=null,u.height=null,u=null}o=null}},{key:"activate",value:function(){this.activated=!0,this.disableCollision()}},{key:"deactivate",value:function(){this.activated=!1}},{key:"enableCollision",value:function(){this.collisionEnabled=!0}},{key:"disableCollision",value:function(){this.collisionEnabled=!1}},{key:"update",value:function(){this.activated&&(this.character.update(),this.updateBottomTiles(),this.updateFloatingTiles(),this.checkCollision(),this.generateTrail(10),this.updateTrailPArticles(),this.staticStarSpawnUpdate(),this.starUpdate(),this.collectiblesUpdate(),this.updateMap())}},{key:"updateMap",value:function(){if(this.currentDistance+=this.character.xSpeed,this.currentDistance>=this.mapDistance){var t=$t.getMapData();this.mapDistance+=t.mapLength,this.addTileData(t.currentTileData),this.addCollectibleData(t.currentCollectibleData)}}},{key:"addCollectibleData",value:function(t){for(var e=0;e<t.length;e++)if(Math.random()>this.collectibleSpawnPercentage){var i=this.getCollectible();i.baseX=this.mapDistance+55*t[e].column+22.5,i.x=i.baseX-this.currentDistance,i.y=55*t[e].row+22.5,this.activeCollectibles.push(i),this.tileMap.addChild(i)}}},{key:"addTileData",value:function(t){for(var e=0;e<t.length;e++){var i=this.getTile();i.baseX=this.mapDistance+55*t[e].column+22.5,i.x=i.baseX-this.currentDistance,i.y=55*t[e].row+22.5,this.floatingTiles.push(i),this.tileMap.addChild(i)}}},{key:"getTile",value:function(){var t;this.availableFloatingTiles.length>0?t=this.availableFloatingTiles.pop():((t=new n.Sprite(this.gametextextures.tile1)).tint=4276545,t.anchor.set(.5,.5),t.halfWidth=.5*t.width,t.halfHeight=.5*t.height);return t}},{key:"returnTile",value:function(t){this.tileMap.removeChild(t),-1!=this.floatingTiles.indexOf(t)&&this.floatingTiles.splice(this.floatingTiles.indexOf(t),1),this.availableFloatingTiles.push(t)}},{key:"checkCollision",value:function(){this.enableCollision&&(this.tilesCollisionCheck(),this.starsCollsionCheck(),this.collectiblesCollisionCheck())}},{key:"tilesCollisionCheck",value:function(){for(var t=0;t<this.floatingTiles.length;t++)if(I.testSpriteRectCollision(this.character,this.floatingTiles[t])){var e=P.getUnitCircleRadianAngle(this.character,this.floatingTiles[t]);e>=3.92699&&e<=5.49779&&this.character.bottomBump(this.floatingTiles[t].y-(this.character.halfHeight+this.floatingTiles[t].halfHeight))}}},{key:"starsCollsionCheck",value:function(){for(var t=this.activeStars.length-1;t>=0;t--)if(I.testSpriteCircleCollision(this.character,this.activeStars[t])){var e=this.activeStars[t],i=P.getAngleOfOppositeAndAdjacent(this.character.y-e.y,e.x-this.character.x),n=this.character.currentSpeed,a=P.getUnitCircleRadianAngle(this.character.position,this.character.getCharNextPoint());a>270&&(a-=360);var s=Math.abs(e.speedX),r=Math.PI,h=(n*Math.cos(a-i)*.7+.6*s*Math.cos(r-i))/1.3*Math.cos(i)+n*Math.sin(a-i)*Math.cos(i+.5*Math.PI),o=(n*Math.cos(a-i)*.7+.6*s*Math.cos(r-i))/1.3*Math.sin(i)+n*Math.sin(a-i)*Math.sin(i+.5*Math.PI),l=(s*Math.cos(r-i)*-.7+2*n*Math.cos(a-i))/1.3*Math.cos(i)+s*Math.sin(r-i)*Math.cos(i+.5*Math.PI),c=(s*Math.cos(r-i)*-.7+2*n*Math.cos(a-i))/1.3*Math.sin(i)+s*Math.sin(r-i)*Math.sin(i+.5*Math.PI);this.character.collide(h,o),this.generateExplosionParticle(50,e.position,.5*e.width,l,c),this.returnStar(e)}}},{key:"collectiblesCollisionCheck",value:function(){for(var t=this.activeCollectibles.length-1;t>=0;t--){var e=this.activeCollectibles[t];if(I.testSpriteCircleCollision(this.character,e))this.returnCollectible(e);else if(I.testCircleCollision2(this.character,e,this.character.magnetR)){var i=P.getUnitCircleRadianAngle(e.position,this.character.position);e.velX=-Math.cos(i)*this.character.currentSpeed*1.2,e.velY=-Math.sin(i)*this.character.currentSpeed*1.2,this.character.speedUp()}}}},{key:"updateBottomTiles",value:function(){for(var t=0;t<this.bottomTiles.length;t++){var e=this.bottomTiles[t];e.x=e.baseX-this.currentDistance,e.x<=-110&&(e.x+=715,e.baseX=e.x+this.currentDistance)}}},{key:"updateFloatingTiles",value:function(){for(var t=this.floatingTiles.length-1;t>=0;t--){var e=this.floatingTiles[t];e.x=e.baseX-this.currentDistance,e.x<=-77.5&&this.returnTile(e)}}},{key:"onKeyDown",value:function(t){this.activated&&" "==t.key&&this.character.charge()}},{key:"generateTrail",value:function(t){for(var e=0;e<t;e++){var i=this.getTrailParticle(),n=2*Math.PI*Math.random(),a=this.character.r*Math.random();i.x=a*Math.cos(n)+this.character.x,i.y=a*Math.sin(n)+this.character.y,i.velX=this.character.xSpeed,i.velY=this.character.ySpeed,i.tint=353649,i.alphaSpeed=.15,this.activeTrailParticle.push(i),this.tileMap.addChild(i)}}},{key:"generateStarTrail",value:function(t,e){for(var i=0;i<t;i++){var n=this.getTrailParticle(),a=2*Math.PI*Math.random(),s=this.character.r*Math.random();n.x=s*Math.cos(a)+e.x,n.y=s*Math.sin(a)+e.y,n.velX=-e.speedX,n.velY=0,n.tint=16738908,n.alphaSpeed=.15,this.activeTrailParticle.push(n),this.tileMap.addChild(n)}}},{key:"generateExplosionParticle",value:function(t,e,i,n,a){for(var s=0;s<t;s++){var r=this.getTrailParticle(),h=2*Math.PI*Math.random(),o=i*Math.random();r.x=o*Math.cos(h)+e.x,r.y=o*Math.sin(h)+e.y,r.velX=-n*(.9+.2*Math.random()),r.velY=a*(.9+.2*Math.random()),r.tint=16738908,r.alpha=.3*Math.random()+.7,r.alphaSpeed=.05,this.activeTrailParticle.push(r),this.tileMap.addChild(r)}}},{key:"getTrailParticle",value:function(){var t;return this.availableTrailParticle.length>0?t=this.availableTrailParticle.pop():(t=new n.Sprite(this.gametextextures.particle2)).anchor.set(.5,.5),t.alpha=.5*Math.random()+.5,t}},{key:"updateTrailPArticles",value:function(){for(var t=this.activeTrailParticle.length-1;t>=0;t--){var e=this.activeTrailParticle[t];e.x-=this.character.xSpeed+e.velX,e.y-=e.velY,e.alpha-=e.alphaSpeed,e.alpha<=0&&this.returnTrail(e)}}},{key:"returnTrail",value:function(t){-1!=this.activeTrailParticle.indexOf(t)&&this.activeTrailParticle.splice(this.activeTrailParticle.indexOf(t),1),this.availableTrailParticle.push(t),this.tileMap.removeChild(t)}},{key:"getCollectible",value:function(){var t;return this.availableCollectibles.length>0?t=this.availableCollectibles.pop():((t=new n.Sprite(this.gametextextures.circle)).anchor.set(.5,.5),t.tint=353649,t.scale.x=.4,t.scale.y=.4),t.velX=0,t.velY=0,t}},{key:"collectiblesUpdate",value:function(){for(var t=this.activeCollectibles.length-1;t>=0;t--){var e=this.activeCollectibles[t];e.baseX-=e.velX,e.x=e.baseX-this.currentDistance,e.y+=e.velY,e.x<-110&&this.returnCollectible(e)}}},{key:"returnCollectible",value:function(t){-1!=this.activeCollectibles.indexOf(t)&&this.activeCollectibles.splice(this.activeCollectibles.indexOf(t),1),this.availableCollectibles.push(t),this.tileMap.removeChild(t)}},{key:"staticStarSpawnUpdate",value:function(){this.starCurrentSpawnDistance+=this.character.xSpeed,this.starCurrentSpawnDistance>=this.starSpawnDistanceLimit&&(this.spawnStar(),this.starCurrentSpawnDistance=0,this.starSpawnDistanceLimit=200+400*Math.random())}},{key:"spawnStar",value:function(){var t,e=this.getStaticStar();t=Math.random()>this.starPerfectPathPercentage?this.character.y>=275?6:this.character.y>=165?4:2:this.character.y>=275?4:this.character.y>=165?6:4,e.baseX=this.mapDistance+715,e.speedX=5,e.x=e.baseX-this.currentDistance,e.y=55*t+22.5,this.activeStars.push(e),this.tileMap.addChild(e)}},{key:"getStaticStar",value:function(){var t;return this.availableStars.length>0?t=this.availableStars.pop():((t=new n.Sprite(this.gametextextures.circle)).anchor.set(.5,.5),t.tint=16738908),t}},{key:"starUpdate",value:function(){for(var t=this.activeStars.length-1;t>=0;t--){var e=this.activeStars[t];e.baseX-=e.speedX,e.x=e.baseX-this.currentDistance,this.generateStarTrail(10,e),e.x<-110&&this.returnStar(e)}}},{key:"returnStar",value:function(t){-1!=this.activeStars.indexOf(t)&&this.activeStars.splice(this.activeStars.indexOf(t),1),this.availableStars.push(t),this.tileMap.removeChild(t)}},{key:"evt_mouseDown",value:function(t){this.activated&&this.character.charge()}}]),e}(),Zt=function(t){function e(){var t;return zt(this,e),(t=Vt(this,Jt(e).call(this))).init(),t}return Kt(e,n["Container"]),Yt(e,[{key:"init",value:function(){this.jumped=!1,this.charged=!1,this.chargeJump=!1,this.currentYAccelerationMultiplier=1,this.chargeYAccelerationMultiplier=4,this.xSpeed=0,this.baseXAcceleration=.1,this.xAcceleration=this.baseXAcceleration,this.baseMaxSpeed=8,this.maxXSpeed=this.baseMaxSpeed,this.currentSpeed=0,this.magnetR=100,this.ySpeed=0,this.yAcceleration=.35,this.jumpSpeed=-10,this.nextPos=new n.Point(0,0),this.r=21.5,this.halfWidth=21.5,this.halfHeight=21.5,this.graphics=new n.Graphics,this.graphics.beginFill(16777215),this.graphics.drawCircle(0,0,this.r),this.graphics.endFill(),this.graphics.tint=353649,this.addChild(this.graphics),this.hitbox=new D,this.collectiblesCount=0,this.collectiblePercentageCount=100,this.percentageCap=3}},{key:"update",value:function(){this.xSpeed<this.maxXSpeed&&(this.xSpeed+=this.xAcceleration,this.xSpeed>this.maxXSpeed&&(this.xSpeed=this.maxXSpeed)),this.y<=364&&(this.ySpeed+=this.yAcceleration*this.currentYAccelerationMultiplier,this.y+=this.ySpeed,this.y>364&&(this.y=364,this.jumped=!1,this.ySpeed=0,this.charged&&this.recharge())),this.currentSpeed=P.getHypotenuseUsingOppositeAndAdjacent(this.xSpeed,this.ySpeed)}},{key:"savePrevPos",value:function(){this.prevX=this.x,this.prevY=this.y}},{key:"getCharNextPoint",value:function(){return this.nextPos.x=this.x+this.xSpeed,this.nextPos.y=this.y+this.ySpeed,this.nextPos}},{key:"collide",value:function(t,e){this.xSpeed=t,this.ySpeed=-e,this.collectiblesCount=Math.floor(.5*this.collectiblesCount),this.updateSpeed()}},{key:"speedUp",value:function(){this.collectiblesCount++,this.updateSpeed()}},{key:"updateSpeed",value:function(){var t=this.collectiblesCount/this.collectiblePercentageCount+1;t>this.percentageCap&&(t=this.percentageCap),this.maxXSpeed=this.baseMaxSpeed*t}},{key:"charge",value:function(){0!=this.ySpeed?this.charged?this.chargeJump=!0:(this.charged=!0,this.currentYAccelerationMultiplier=this.chargeYAccelerationMultiplier):this.jump()}},{key:"recharge",value:function(){this.charged&&(this.charged=!1,this.currentYAccelerationMultiplier=1,this.chargeJump&&(this.chargeJump=!1,this.jump()))}},{key:"jump",value:function(){this.jumped||(this.jumped=!0,this.ySpeed=this.jumpSpeed)}},{key:"headBump",value:function(t){this.ySpeed<0&&(this.y=t,this.ySpeed=.5*-this.ySpeed)}},{key:"bottomBump",value:function(t){this.ySpeed>0&&this.y<t+this.ySpeed+1&&(this.y=t,this.jumped=!1,this.ySpeed=0,this.charged&&this.recharge())}},{key:"frontBump",value:function(){this.xSpeed>0&&(this.xSpeed=.5*-this.xSpeed)}},{key:"rearBump",value:function(){this.xSpeed<0&&(this.xSpeed=.5*-this.xSpeed)}}]),e}(),$t=function(){function t(){zt(this,t),this.mapLength=605,this.dataLength=11,this.currentTileData,this.currentCollectibleData,this.tileData=[],this.tileData[0]=[],this.tileData[1]=[new te(1,5),new te(2,5),new te(6,5),new te(7,5),new te(8,5)],this.tileData[2]=[new te(1,5),new te(2,5),new te(6,5),new te(7,5)],this.tileData[3]=[new te(1,5),new te(2,5),new te(5,3),new te(6,3)],this.tileData[4]=[new te(2,5),new te(3,5),new te(4,5),new te(5,5),new te(6,3),new te(7,3),new te(8,3)],this.tileData[5]=[new te(1,5),new te(2,5),new te(5,3),new te(6,3)],this.tileData[6]=[new te(1,5),new te(2,3),new te(2,5),new te(3,5),new te(4,3),new te(4,5),new te(5,5),new te(7,3),new te(8,3)],this.tileData[7]=[new te(1,5),new te(2,5),new te(3,5),new te(4,5),new te(5,5),new te(7,3),new te(8,3)],this.tileData[8]=[new te(1,5),new te(2,5),new te(3,3),new te(4,3),new te(5,5),new te(6,5),new te(7,3),new te(8,3)],this.tileData[9]=[new te(1,5),new te(2,5),new te(4,3),new te(5,5),new te(6,5),new te(8,3)],this.tileData[10]=[new te(1,5),new te(3,5),new te(4,5),new te(5,5),new te(7,5)],this.collectibleData=[],this.collectibleData[0]=[],this.collectibleData[1]=[new te(1,4),new te(2,4),new te(6,6),new te(7,6),new te(8,6)],this.collectibleData[2]=[new te(1,6),new te(2,6),new te(1,4),new te(6,4)],this.collectibleData[3]=[new te(2,4),new te(3,3),new te(4,2)],this.collectibleData[4]=[new te(3,4),new te(4,4),new te(7,6),new te(7,2)],this.collectibleData[5]=[new te(2,4),new te(5,5),new te(6,2)],this.collectibleData[6]=[new te(3,3),new te(7,5),new te(8,2)],this.collectibleData[7]=[new te(2,4),new te(3,6),new te(4,4),new te(8,2)],this.collectibleData[8]=[new te(1,4),new te(4,4),new te(8,2)],this.collectibleData[9]=[new te(4,2),new te(8,2)],this.collectibleData[10]=[new te(2,5),new te(4,4),new te(6,5)]}return Yt(t,[{key:"init",value:function(t){if(null!=t)this.currentTileData=this.tileData[t],this.currentCollectibleData=this.collectibleData[t];else{var e=Math.floor(Math.random()*(this.dataLength-1))+1;this.currentTileData=this.tileData[e],this.currentCollectibleData=this.collectibleData[e]}}}],[{key:"getMapData",value:function(e){return null==t.mapData&&(t.mapData=new t),t.mapData.init(e),t.mapData}}]),t}(),te=function t(e,i){zt(this,t),this.column=e,this.row=i},ee=Qt;function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ae(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function se(t,e,i){return e&&ae(t.prototype,e),i&&ae(t,i),t}function re(t,e){return!e||"object"!==ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ce=Object.freeze({LEFT:Symbol("left"),RIGHT:Symbol("right"),UP:Symbol("up"),DOWN:Symbol("down"),IDLE:Symbol("idle")}),ue=function(t){function e(){var t;return ne(this,e),(t=re(this,he(e).call(this))).init(),t}return oe(e,n["Container"]),se(e,[{key:"init",value:function(){this.initProps(),this.initGraphics(),this.initEvents()}},{key:"initProps",value:function(){this.interactive=!0,this.activated=!1,this.initializingNextMap=!0,this.initialTouchPoint=new n.Point(0,0),this.swipeH=30,this.onMouseDown=!1,this.individualTextures=["tile1","tile2","tile3","circle"],this.availableTails=[],this.activeTails=[],this.tailCount=0,this.tailMax=3}},{key:"initGraphics",value:function(){this.eventFrame=new n.Graphics,this.eventFrame.beginFill(16777215),this.eventFrame.drawRect(.5*-Oi.baseWidth,.5*-Oi.baseHeight,Oi.baseWidth,Oi.baseHeight),this.eventFrame.endFill(),this.eventFrame.alpha=0,this.addChild(this.eventFrame),this.createTexture(),this.iconContainer=new n.Graphics,this.iconContainer.beginFill(16777215),this.iconContainer.drawCircle(0,0,50),this.iconContainer.endFill(),this.iconContainer.tint=353649,this.iconContainer.x=-290,this.iconContainer.y=260,this.iconContainer.alpha=0,this.addChild(this.iconContainer),this.icon=new n.Sprite(S.images["assets/images/sp4.png"]),this.icon.anchor.set(.5,.5),this.icon.tint=4276545,this.icon.x=-290,this.icon.y=260,this.icon.alpha=0,this.addChild(this.icon),this.text=new PIXI.Text("LEVEL DESIGN",{fontSize:30,fontFamily:"font1",fill:"#414141",align:"center"}),this.text.anchor.set(.5,.5),this.text.x=-290,this.text.y=340,this.text.alpha=0,this.addChild(this.text),this.disText=new PIXI.Text("Able to design and balance game levels for the target players and integrate procedural and random level generation for replayability.",{fontSize:22,fontFamily:"font2",fill:"#414141",align:"left",wordWrap:!0,wordWrapWidth:530}),this.disText.anchor.set(.5,.5),this.disText.x=80,this.disText.y=290,this.disText.alpha=0,this.addChild(this.disText),this.gameContainer=new n.Container,this.gameContainer.x=-357.5,this.gameContainer.y=-327.5,this.addChild(this.gameContainer),this.gMask=new n.Graphics,this.gMask.beginFill(16777215),this.gMask.drawCircle(0,0,400),this.gMask.endFill(),this.gMask.x=357.5,this.gMask.y=247.5,this.gMask.scale.x=0,this.gMask.scale.y=0,this.gameContainer.mask=this.gMask,this.gameContainer.addChild(this.gMask),this.tileMap=new n.particles.ParticleContainer(3e3,{scale:!0,position:!0,rotation:!0,uvs:!0,alpha:!0}),this.gameContainer.addChild(this.tileMap),this.initTiles(),this.collectible=new n.Sprite(this.gametextextures.circle),this.collectible.anchor.set(.5,.5),this.collectible.visible=!1,this.collectible.tint=16738908,this.collectible.scale.x=.25,this.collectible.scale.y=.25,this.tileMap.addChild(this.collectible),this.character=new pe,this.character.x=357.5,this.character.y=247.5,this.gameContainer.addChild(this.character)}},{key:"initEvents",value:function(){this.charTileUpdateWithBind=this.evt_charTileUpdate.bind(this),this.character.on("TILE_UPDATE",this.charTileUpdateWithBind),this.objectAnimateOutCompletedWithBind=this.evt_ojectAnimateOutCompleted.bind(this),this.character.on("ANIMATE_OUT_COMPLETED",this.objectAnimateOutCompletedWithBind),this.tailTileUpdateWithBind=this.evt_tailTileUpdate.bind(this),this.onTouchStartWithBind=this.evt_touchStart.bind(this),this.on("touchstart",this.onTouchStartWithBind),this.onTouchEndWithBind=this.evt_touchEnd.bind(this),this.on("touchend",this.onTouchEndWithBind),this.onTouchMoveWithBind=this.evt_touchMove.bind(this),this.on("touchmove",this.onTouchMoveWithBind)}},{key:"initTiles",value:function(){this.mapTiles=[],this.freeTiles=[],this.allFreeTiles=[];for(var t=fe.GetMapData().getDefaultData(),e=0;e<t.length;e++){for(var i=[],a=0;a<t[e].length;a++){var s,r=t[e][a];(s=0==r?new n.Sprite(this.gametextextures.tile1):-1==r?new n.Sprite(this.gametextextures.tile3):new n.Sprite(this.gametextextures.tile2)).data=r,s.anchor.set(.5,.5),s.x=55*a+27.5,s.y=55*e+27.5,s.mapPos=new n.Point(a,e),s.tint=4276545,s.collectible=!1,i.push(s),r>0?s.walkable=!1:-1==r?(this.midTile=s,s.walkable=!0,this.tileMap.addChild(s)):(s.walkable=!0,this.allFreeTiles.push(s),this.tileMap.addChild(s))}this.mapTiles.push(i)}this.initNeighborTiles()}},{key:"initNeighborTiles",value:function(){for(var t=0;t<this.mapTiles.length;t++)for(var e=0;e<this.mapTiles[t].length;e++){var i=this.mapTiles[t][e];i.top=t>0?this.mapTiles[t-1][e]:null,t<this.mapTiles.length-1?i.bottom=this.mapTiles[t+1][e]:i.bottom=null,i.left=e>0?this.mapTiles[t][e-1]:null,e<this.mapTiles[t].length-1?i.right=this.mapTiles[t][e+1]:i.right=null}}},{key:"createTexture",value:function(){for(var t=new n.Container,e=0,i=0,a=512,s=512,r=2,h=0,o=[],l=0;l<this.individualTextures.length;l++){var c=new n.Sprite(S.images["assets/images/"+this.individualTextures[l]+".png"]);if(e+c.width>a&&(e=0,i+=h+r,h=0),i+c.height>s)throw"Reach max container size: update the max size.";c.x=e,c.y=i,o[l]={x:e,y:i,width:c.width,height:c.height},t.addChild(c),e+=c.width+r,h<c.height&&(h=c.height)}this.generatedTexture=Oi.renderer.generateTexture(t),this.gametextextures={};for(l=0;l<this.individualTextures.length;l++){var u=o[l];this.gametextextures[this.individualTextures[l]]=new n.Texture(this.generatedTexture,new n.Rectangle(u.x,u.y,u.width,u.height))}for(t.removeChildren(),t=null,e=null,i=null,a=null,s=null,r=null,h=null;o.length>0;){(u=o.pop()).x=null,u.y=null,u.width=null,u.height=null,u=null}o=null}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e)}},{key:"animateIn2",value:function(t,e){this.initNextMapData(),this.character.alpha=1,createjs.Tween.get(this.gMask).to({width:800,height:800},t,e)}},{key:"backOut1",value:function(t,e){createjs.Tween.get(this.gMask).to({width:0,height:0},t,e)}},{key:"backOut2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e),this.reset()}},{key:"animateOut1",value:function(t,e){createjs.Tween.get(this.gMask).to({width:0,height:0},t,e)}},{key:"animateOut2",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:260,alpha:0},t,e),createjs.Tween.get(this.icon).to({y:260,alpha:0},t,e),createjs.Tween.get(this.text).to({y:340,alpha:0},t,e),createjs.Tween.get(this.disText).to({y:290,alpha:0},t,e),this.reset()}},{key:"backIn1",value:function(t,e){createjs.Tween.get(this.iconContainer).to({y:210,alpha:1},t,e),createjs.Tween.get(this.icon).to({y:210,alpha:1},t,e),createjs.Tween.get(this.text).to({y:290,alpha:1},t,e),createjs.Tween.get(this.disText).to({y:240,alpha:1},t,e)}},{key:"backIn2",value:function(t,e){this.initNextMapData(),this.character.alpha=1,createjs.Tween.get(this.gMask).to({width:800,height:800},t,e)}},{key:"activate",value:function(){this.activated=!0,this.onMouseDown=!1,this.startGame()}},{key:"deactivate",value:function(){this.activated=!1,this.onMouseDown=!1}},{key:"startGame",value:function(){this.resetFreeTiles(),this.spawnCharacter(),this.spawnCollectible(),this.finishedMapInitialization()}},{key:"reset",value:function(){this.returnAllTails(),this.resetFreeTiles(),this.collectible.alpha=0,this.character.rawReset(),this.character.x=357.5,this.character.y=247.5,this.tail=this.character,this.tailCount=0,this.midTile.rotation=0}},{key:"getRandomTile",value:function(){var t=this.freeTiles[Math.floor(Math.random()*this.freeTiles.length)];return this.useTile(t),t.collectible=!0,t}},{key:"getSpecificTile",value:function(t,e){var i=this.mapTiles[t][e];return this.useTile(i),i}},{key:"useTile",value:function(t){-1!=this.freeTiles.indexOf(t)&&this.freeTiles.splice(this.freeTiles.indexOf(t),1)}},{key:"returnTile",value:function(t){-1==this.freeTiles.indexOf(t)&&-1!=t.data&&(t.collectible=!1,this.freeTiles.push(t))}},{key:"resetFreeTiles",value:function(){this.freeTiles=[];for(var t=0;t<this.allFreeTiles.length;t++){var e=this.allFreeTiles[t];e.collectible=!1,e.walkable&&this.freeTiles.push(e)}}},{key:"initNextMapData",value:function(){for(var t=fe.GetMapData().getNextLevelData(),e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++){var n=t[e][i];1==n&&Math.random()>.85&&(n=0),0!=n||this.mapTiles[e][i].walkable?1==n&&this.mapTiles[e][i].walkable&&(this.mapTiles[e][i].walkable=!1,this.mapTiles[e][i].texture=this.gametextextures.tile2):(this.mapTiles[e][i].walkable=!0,this.mapTiles[e][i].texture=this.gametextextures.tile1)}}},{key:"initNextMap",value:function(){this.initializingNextMap=!0,this.character.reset()}},{key:"finishedMapInitialization",value:function(){this.initializingNextMap=!1}},{key:"spawnCharacter",value:function(){this.character.spawn(this.getSpecificTile(4,6)),this.tail=this.character}},{key:"spawnCollectible",value:function(){var t=this.getRandomTile();this.collectible.visible=!0,this.collectible.x=t.x,this.collectible.y=t.y,this.collectible.tile=t,this.collectible.alpha=1}},{key:"collectCollectible",value:function(){this.tailCount<this.tailMax&&(this.collectible.tile.collectible=!1,this.spawnTail(this.collectible.tile)),this.tailCount++,this.tailCount<this.tailMax?this.spawnCollectible():this.attainedTailMaxCount()}},{key:"attainedTailMaxCount",value:function(){this.collectible.alpha=0}},{key:"update",value:function(){this.activated&&(this.character.update(),this.updateTails(),this.updateMidTile())}},{key:"updateTails",value:function(){for(var t=0;t<this.activeTails.length;t++)this.activeTails[t].update()}},{key:"updateMidTile",value:function(){this.tailCount>=this.tailMax&&(this.midTile.rotation+=.05,this.midTile.rotation>=6.28318530718&&(this.midTile.rotation-=6.28318530718))}},{key:"spawnTail",value:function(t){var e=this.getTail(),i=this.tail;this.tail=e,e.spawn(i,t),i.setTail(this.tail),e.on("TAIL_TILE_UPDATE",this.tailTileUpdateWithBind),this.tail.scale.x=.25,this.tail.scale.y=.25,this.tileMap.addChild(this.tail),createjs.Tween.get(e.scale).to({x:1,y:1},600,createjs.Ease.cubicIn)}},{key:"getTail",value:function(){var t;return this.availableTails.length>0?t=this.availableTails.pop():(t=new de(this.gametextextures.circle)).on("ANIMATE_OUT_COMPLETED",this.objectAnimateOutCompletedWithBind),this.activeTails.push(t),t}},{key:"returnTail",value:function(t){-1!=this.activeTails.indexOf(t)&&this.activeTails.splice(this.activeTails.indexOf(t),1),t.reset(),this.tileMap.removeChild(t),this.availableTails.push(t)}},{key:"returnAllTails",value:function(){for(;this.activeTails.length>0;)this.returnTail(this.activeTails.pop())}},{key:"collectibleCollisionUpdate",value:function(t){t&&this.collectCollectible()}},{key:"levelCompletionChecker",value:function(t){this.tailCount>=this.tailMax&&-1==t&&this.initNextMap()}},{key:"prevTailTileUpdate",value:function(t,e){this.tail==t&&this.returnTile(e)}},{key:"initNextLevel",value:function(){this.character.positionCharacter(this.getSpecificTile(4,6),600,createjs.Ease.cubicOut),createjs.Tween.get(this.gMask).to({width:44,height:44},600,createjs.Ease.cubicOut).call(this.initNextLevel2,[],this)}},{key:"initNextLevel2",value:function(){this.returnAllTails(),this.initNextMapData(),this.resetFreeTiles(),this.spawnCollectible(),this.tail=this.character,this.tailCount=0,this.midTile.rotation=0,createjs.Tween.get(this.gMask).to({width:800,height:800},600,createjs.Ease.cubicIn).call(this.initNextLevel3,[],this)}},{key:"initNextLevel3",value:function(){this.character.spawn(this.getSpecificTile(4,6)),this.finishedMapInitialization()}},{key:"evt_touchStart",value:function(t){this.activated&&(this.onMouseDown=!0,this.initialTouchPoint=t.data.getLocalPosition(this))}},{key:"evt_touchEnd",value:function(t){this.activated&&this.onMouseDown&&(P.getHypotenuseOfTwoPoints(this.initialTouchPoint,t.data.getLocalPosition(this))>=this.swipeH&&(this.onTouchControl(P.getUnitCircleAngle(this.initialTouchPoint,t.data.getLocalPosition(this))),this.onMouseDown=!1))}},{key:"evt_touchMove",value:function(t){this.activated&&this.onMouseDown&&(P.getHypotenuseOfTwoPoints(this.initialTouchPoint,t.data.getLocalPosition(this))>=this.swipeH&&(this.onTouchControl(P.getUnitCircleAngle(this.initialTouchPoint,t.data.getLocalPosition(this))),this.onMouseDown=!1))}},{key:"onTouchControl",value:function(t){t>=45&&t<135?this.character.changeDirection(ce.UP):t>=135&&t<225?this.character.changeDirection(ce.LEFT):t>=225&&t<315?this.character.changeDirection(ce.DOWN):this.character.changeDirection(ce.RIGHT)}},{key:"evt_onKeyDown",value:function(t){this.initializingNextMap||("ArrowRight"==t.key?this.character.changeDirection(ce.RIGHT):"ArrowLeft"==t.key?this.character.changeDirection(ce.LEFT):"ArrowUp"==t.key?this.character.changeDirection(ce.UP):"ArrowDown"==t.key&&this.character.changeDirection(ce.DOWN))}},{key:"evt_charTileUpdate",value:function(t){this.useTile(t.newTile),this.collectibleCollisionUpdate(t.prevtile.collectible),this.prevTailTileUpdate(this.character,t.prevtile),this.levelCompletionChecker(t.prevtile.data)}},{key:"evt_tailTileUpdate",value:function(t){this.prevTailTileUpdate(this.tail,t.tile),this.initializingNextMap&&-1==t.tile.data&&t.tail.reset()}},{key:"evt_ojectAnimateOutCompleted",value:function(t){this.tail==t&&this.initNextLevel()}}]),e}(),pe=function(t){function e(){var t;return ne(this,e),(t=re(this,he(e).call(this))).init(),t}return oe(e,n["Container"]),se(e,[{key:"init",value:function(){this.baseSpeed=2,this.speed=this.baseSpeed,this.spawned=!1,this.currentTile=null,this.tail=null,this.prevTile=null,this.mouthBite=!0,this.mouthRotation=1.57079632679,this.newX=0,this.newY=0,this.currentDirection=ce.IDLE,this.newDirection=ce.IDLE,this.semiCircle1=new n.Sprite(S.images["assets/images/halfCircle.png"]),this.semiCircle1.anchor.set(.5,.5),this.semiCircle1.rotation=this.mouthRotation,this.semiCircle1.tint=16738908,this.addChild(this.semiCircle1),this.semiCircle2=new n.Sprite(S.images["assets/images/halfCircle.png"]),this.semiCircle2.anchor.set(.5,.5),this.semiCircle2.rotation=-this.mouthRotation,this.semiCircle2.tint=16738908,this.addChild(this.semiCircle2)}},{key:"setTail",value:function(t){this.tail=t}},{key:"spawn",value:function(t){this.currentTile=t,this.x=this.currentTile.x,this.y=this.currentTile.y,this.newX=this.x,this.newY=this.y,this.spawned=!0,this.alpha=1,this.mouthBite=!0,this.mouthRotation=1.57079632679,this.semiCircle1.rotation=this.mouthRotation,this.semiCircle2.rotation=-this.mouthRotation,this.currentDirection==ce.IDLE&&this.changeDirection(ce.RIGHT)}},{key:"positionCharacter",value:function(t,e,i){this.x=t.x,this.y=t.y,this.mouthRotation=1.57079632679,this.semiCircle1.rotation=this.mouthRotation,this.semiCircle2.rotation=-this.mouthRotation,createjs.Tween.get(this).to({alpha:1},e,i)}},{key:"reset",value:function(){this.spawned&&(this.spawned=!1,null!=this.tail&&(this.tail.setNextTile(this.currentTile,this.currentDirection),this.tail=null),this.currentTile=null,this.prevTile=null,createjs.Tween.get(this).to({alpha:0},300,createjs.Ease.cubicInOut).call(this.alphaOutCompleted,[],this))}},{key:"rawReset",value:function(){this.spawned=!1,this.tail=null,this.currentTile=null,this.prevTile=null,this.alpha=0,this.mouthRotation=1.57079632679,this.mouthBite=!0,this.semiCircle1.rotation=this.mouthRotation,this.semiCircle2.rotation=-this.mouthRotation}},{key:"alphaOutCompleted",value:function(){this.emit("ANIMATE_OUT_COMPLETED",this)}},{key:"changeDirection",value:function(t){this.currentDirection==ce.IDLE||this.checkIfDirectionIsParallel(this.currentDirection,t)?(this.newDirection=t,this.currentDirection=t,this.updateLogoRotation()):this.currentDirection!=t&&(this.newDirection=t)}},{key:"updateLogoRotation",value:function(){this.currentDirection==ce.LEFT?this.rotation=Math.PI:this.currentDirection==ce.UP?this.rotation=.5*-Math.PI:this.currentDirection==ce.RIGHT?this.rotation=0:this.currentDirection==ce.DOWN&&(this.rotation=.5*Math.PI)}},{key:"updateToNewDirection",value:function(){this.currentDirection=this.newDirection,this.updateLogoRotation()}},{key:"checkIfDirectionIsParallel",value:function(t,e){return null==this.tail&&(t==ce.LEFT&&e==ce.RIGHT||t==ce.RIGHT&&e==ce.LEFT||t==ce.UP&&e==ce.DOWN||t==ce.DOWN&&e==ce.UP)}},{key:"update",value:function(){this.spawned&&(this.updateNewPosition(),this.updatePosition())}},{key:"updateMouth",value:function(){this.mouthBite?(this.mouthRotation+=.1,this.mouthRotation>=1.57079632679&&(this.mouthBite=!1,this.mouthRotation=1.57079632679)):(this.mouthRotation-=.1,this.mouthRotation<=.78539816339&&(this.mouthBite=!0,this.mouthRotation=.78539816339)),this.semiCircle1.rotation=this.mouthRotation,this.semiCircle2.rotation=-this.mouthRotation}},{key:"updateNewPosition",value:function(){this.currentDirection==ce.LEFT?this.updateMoveLeft(this.speed):this.currentDirection==ce.RIGHT?this.updateMoveRight(this.speed):this.currentDirection==ce.UP?this.updateMoveUp(this.speed):this.currentDirection==ce.DOWN&&this.updateMoveDown(this.speed)}},{key:"updatePosition",value:function(){this.spawned&&(this.x==this.newX&&this.y==this.newY||(this.x=this.newX,this.y=this.newY,this.updateMouth()))}},{key:"updateMoveLeft",value:function(t){if(this.newX-=t,this.newX<this.currentTile.x){if(this.updateMoveVertical(this.currentTile.x-this.newX))return;this.currentTile.left.walkable?this.updateCurrentTile(this.currentTile.left):(this.newX=this.currentTile.x,this.stop())}}},{key:"updateMoveRight",value:function(t){if(this.newX+=t,this.newX>this.currentTile.x){if(this.updateMoveVertical(this.newX-this.currentTile.x))return;this.currentTile.right.walkable?this.updateCurrentTile(this.currentTile.right):(this.newX=this.currentTile.x,this.stop())}}},{key:"updateMoveUp",value:function(t){if(this.newY-=t,this.newY<this.currentTile.y){if(this.updateMoveHorizontal(this.currentTile.y-this.newY))return;this.currentTile.top.walkable?this.updateCurrentTile(this.currentTile.top):(this.newY=this.currentTile.y,this.stop())}}},{key:"updateMoveDown",value:function(t){if(this.newY+=t,this.newY>this.currentTile.y){if(this.updateMoveHorizontal(this.newY-this.currentTile.y))return;this.currentTile.bottom.walkable?this.updateCurrentTile(this.currentTile.bottom):(this.newY=this.currentTile.y,this.stop())}}},{key:"updateMoveVertical",value:function(t){return this.newDirection==ce.UP&&this.currentTile.top.walkable?(this.newX=this.currentTile.x,this.updateMoveUp(t),this.updateToNewDirection(),!0):!(this.newDirection!=ce.DOWN||!this.currentTile.bottom.walkable)&&(this.newX=this.currentTile.x,this.updateMoveDown(t),this.updateToNewDirection(),!0)}},{key:"updateMoveHorizontal",value:function(t){return this.newDirection==ce.LEFT&&this.currentTile.left.walkable?(this.newY=this.currentTile.y,this.updateMoveLeft(t),this.updateToNewDirection(),!0):!(this.newDirection!=ce.RIGHT||!this.currentTile.right.walkable)&&(this.newY=this.currentTile.y,this.updateMoveRight(t),this.updateToNewDirection(),!0)}},{key:"updateCurrentTile",value:function(t){this.emit("TILE_UPDATE",{prevtile:this.currentTile,newTile:t}),null!=this.tail&&this.tail.setNextTile(this.currentTile,this.currentDirection),this.prevTile=this.currentTile,this.currentTile=t}},{key:"stop",value:function(){}}]),e}(),de=function(t){function e(t){var i;return ne(this,e),(i=re(this,he(e).call(this,t))).tint=16738908,i.anchor.set(.5,.5),i.headDistance=55,i.availableTileData=[],i.tiles=[],i.speed=0,i.spawned=!1,i}return oe(e,n["Sprite"]),se(e,[{key:"spawn",value:function(t,e){this.spawned=!0,this.active=!1,this.head=t,this.currentTile=e,this.speed=t.speed,this.x=e.x,this.y=e.y,this.tail=null,this.alpha=1}},{key:"reset",value:function(){for(this.spawned=!1,this.tail=null,this.prevTile=null,this.currentTile=null;this.tiles.length>0;)this.availableTileData.push(this.tiles.pop());createjs.Tween.get(this).to({alpha:0},300,createjs.Ease.cubicInOut).call(this.alphaOutCompleted,[],this)}},{key:"alphaOutCompleted",value:function(){this.emit("ANIMATE_OUT_COMPLETED",this)}},{key:"setTail",value:function(t){this.tail=t}},{key:"setNextTile",value:function(t,e){if(this.active){var i=this.getTileData();i.tile=t,i.direction=e,this.tiles.push(i)}else this.currentTile==this.head.currentTile&&(this.active=!0)}},{key:"update",value:function(){this.head.spawned?this.normalUpdate():this.transitionOutUpdate()}},{key:"normalUpdate",value:function(){var t=Math.abs(this.head.x-this.x)+Math.abs(this.head.y-this.y);if(this.headDistance<t)for(var e=t-this.headDistance;e>0&&(0,!(this.tiles.length<=0));)e=this.updateMovement(e)}},{key:"transitionOutUpdate",value:function(){this.tiles.length>0&&this.updateMovement(this.speed)}},{key:"updateMovement",value:function(t){var e=this.tiles[0],i=0;return e.direction==ce.LEFT?(this.x-=t,this.x<e.tile.x&&(i=e.tile.x-this.x,this.x=e.tile.x,this.returnTileData(e))):e.direction==ce.RIGHT?(this.x+=t,this.x>e.tile.x&&(i=this.x-e.tile.x,this.x=e.tile.x,this.returnTileData(e))):e.direction==ce.UP?(this.y-=t,this.y<e.tile.y&&(i=e.tile.y-this.y,this.y=e.tile.y,this.returnTileData(e))):e.direction==ce.DOWN&&(this.y+=t,this.y>e.tile.y&&(i=this.y-e.tile.y,this.y=e.tile.y,this.returnTileData(e))),i}},{key:"returnTileData",value:function(t){1!=this.tiles.indexOf(t)&&this.tiles.splice(this.tiles.indexOf(t),1),this.prevTile=this.currentTile,this.currentTile=t.tile,null!=this.tail&&this.tail.setNextTile(t.tile,t.direction),this.availableTileData.push(t),this.emit("TAIL_TILE_UPDATE",{tail:this,tile:t.tile}),this.availableTileData.push(t)}},{key:"getTileData",value:function(){return this.availableTileData.length>0?this.availableTileData.pop():{tile:null,direction:null}}}]),e}(),fe=function(){function t(){ne(this,t),this.arrayOfData=[],this.arrayOfData.push([[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,-1,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]]),this.arrayOfData.push([[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,1,0,0,0,0,0,0,0,1,2],[2,0,0,0,0,1,0,0,1,1,0,0,2],[2,1,1,0,1,1,0,0,1,1,0,0,2],[2,0,0,0,0,0,-1,0,0,0,0,0,2],[2,0,0,1,1,0,0,1,1,0,1,1,2],[2,0,0,1,1,0,0,1,0,0,0,0,2],[2,1,0,0,0,0,0,0,0,1,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]]),this.arrayOfData.push([[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,1,0,0,0,0,0,2],[2,0,1,0,1,0,0,0,1,0,1,0,2],[2,0,0,0,0,1,0,1,0,0,0,0,2],[2,1,0,1,0,0,-1,0,0,1,0,1,2],[2,0,0,0,0,1,0,1,0,0,0,0,2],[2,0,1,0,1,0,0,0,1,0,1,0,2],[2,0,0,0,0,0,1,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]]),this.arrayOfData.push([[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,1,0,0,0,0,0,1,2],[2,0,1,0,0,0,0,1,0,1,0,0,2],[2,0,1,0,1,1,0,1,0,1,1,0,2],[2,0,0,0,0,0,-1,0,0,0,0,0,2],[2,0,1,1,0,1,0,1,1,0,1,0,2],[2,0,0,1,0,1,0,0,0,0,1,0,2],[2,1,0,0,0,0,0,0,1,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]]),this.arrayOfData.push([[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,1,0,0,0,0,1,2],[2,0,1,0,1,0,1,0,0,1,0,0,2],[2,0,1,0,1,0,0,0,1,0,0,0,2],[2,0,1,0,0,0,-1,0,0,0,1,0,2],[2,0,0,0,1,0,0,0,1,0,1,0,2],[2,0,0,1,0,0,1,0,1,0,1,0,2],[2,1,0,0,0,0,1,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]]),this.arrayOfData.push([[2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,1,1,0,1,1,1,0,1,1,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,1,0,1,1,0,-1,0,1,1,0,1,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,1,1,0,1,1,1,0,1,1,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2]]),this.templateCount=Math.floor(5*Math.random())}return se(t,null,[{key:"GetMapData",value:function(){return null==t.mapData&&(t.mapData=new t),t.mapData}}]),se(t,[{key:"getDefaultData",value:function(){return this.arrayOfData[0]}},{key:"getNextLevelData",value:function(){return this.templateCount++,this.templateCount>=5&&(this.templateCount=0),this.arrayOfData[this.templateCount+1]}}]),t}(),ve=ue;function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function me(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Te=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=me(this,we(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(e,n["Container"]),function(t,e,i){e&&ge(t.prototype,e),i&&ge(t,i)}(e,[{key:"init",value:function(){this.initProps(),this.initGraphics(),this.initEvents()}},{key:"initProps",value:function(){this.interactive=!0,this.activated=!1,this.controlEnabled=!1}},{key:"initGraphics",value:function(){this.eventFrame=new n.Graphics,this.eventFrame.beginFill(16777215),this.eventFrame.drawRect(0,0,Oi.baseWidth,Oi.baseHeight),this.eventFrame.endFill(),this.eventFrame.alpha=0,this.addChild(this.eventFrame),this.ship=new H,this.ship.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.ship),this.ship.alpha=0,this.enemyShip=new Z,this.addChild(this.enemyShip),this.enemyShip.alpha=0,this.particleContainer=new n.particles.ParticleContainer(1e3,{scale:!0,position:!0,rotation:!1,uvs:!1,alpha:!1}),this.addChild(this.particleContainer)}},{key:"initEvents",value:function(){this.onMaxExplosionWithBind=this.onMaxExplosion.bind(this),this.onPointerDownWithBind=this.evt_onPointerDown.bind(this),this.on("pointerdown",this.onPointerDownWithBind),this.onPointerUpWithBind=this.evt_onPointerUp.bind(this),this.on("pointerup",this.onPointerUpWithBind),this.onPointerMoveWithBind=this.evt_onPointerMove.bind(this),this.on("pointermove",this.onPointerMoveWithBind)}},{key:"animate1",value:function(t,e){this.enemyShip.alpha=0,this.ship.alpha=0,this.ship.appear(t,e),createjs.Tween.get(this.ship).to({alpha:1},.25*t),createjs.Tween.get(this.enemyShip).to({alpha:1},t,e),createjs.Tween.get(this.ship).to({y:.85*Oi.baseHeight},t,e)}},{key:"animateOut1",value:function(t,e){this.ship.disappear(t,e),createjs.Tween.get(this.enemyShip).to({alpha:0},t,e),createjs.Tween.get(this.ship).to({x:.5*Oi.baseWidth,y:.5*Oi.baseHeight},t,e)}},{key:"animateOut2",value:function(t,e){createjs.Tween.get(this.ship).to({alpha:0,rotation:-3*Math.PI/4},t)}},{key:"backOut1",value:function(t,e){this.ship.disappear(t,e),createjs.Tween.get(this).wait(.75*t).call(this.backOut2,[.25*t],this),createjs.Tween.get(this.enemyShip).to({alpha:0},t,e),createjs.Tween.get(this.ship).to({x:.5*Oi.baseWidth,y:.5*Oi.baseHeight},t,e)}},{key:"backOut2",value:function(t){createjs.Tween.get(this.ship).to({alpha:0},t)}},{key:"backIn1",value:function(t,e){createjs.Tween.get(this.ship).to({alpha:1,rotation:0},t)}},{key:"backIn2",value:function(t,e){this.ship.appear(t,e),createjs.Tween.get(this.enemyShip).to({alpha:1},t,e),createjs.Tween.get(this.ship).to({x:.5*Oi.baseWidth,y:.85*Oi.baseHeight},t,e)}},{key:"activate",value:function(){this.activated=!0}},{key:"deactivate",value:function(){this.activated=!1}},{key:"enableControl",value:function(){this.controlEnabled=!0}},{key:"disablecontrol",value:function(){this.controlEnabled=!1,this.ship.disablePointMovement(),this.ship.stopFire()}},{key:"reset",value:function(){this.ship.reset()}},{key:"update",value:function(){this.activated&&(this.enemyShip.update(),this.ship.update(),this.checkShipBulletAndEnemyShipCollision(),this.fixEnemyShipUpdate())}},{key:"checkShipBulletAndEnemyShipCollision",value:function(){var t=this.ship.getBullets(),e=this.enemyShip.getParticles(),i=0;for(i=0;i<t.length;i++){for(var n=t[i],a=!1,s=0;s<e.length;s++){var r=e[s];if(!(r.alpha<1)){var h=n.width/2+r.width/2,o=n.x-r.x,l=n.y-r.y;if(h*h>o*o+l*l){a=!0;break}}}a&&(n.on("MAX_EXPLOSION",this.onMaxExplosionWithBind),this.ship.explodeBullet(n))}t=null,e=null}},{key:"onMaxExplosion",value:function(t){t.removeListener("MAX_EXPLOSION",this.onMaxExplosionWithBind);for(var e=this.enemyShip.getParticles(),i=0;i<e.length;i++){var n=e[i];if(!(n.alpha<1)){var a=t.width/2+n.width/2,s=t.x-n.x,r=t.y-n.y;a*a>s*s+r*r&&(n.alpha=0)}}e=null}},{key:"fixEnemyShipUpdate",value:function(){for(var t=this.enemyShip.getParticles(),e=0;e<t.length;e++){var i=t[e];i.alpha<1&&(i.alpha+=.005)}t=null}},{key:"evt_onKeyDown",value:function(t){this.controlEnabled&&("ArrowRight"==t.key?this.ship.moveRight():"ArrowLeft"==t.key?this.ship.moveLeft():" "==t.key&&this.ship.startFire())}},{key:"evt_onKeyUp",value:function(t){this.controlEnabled&&(" "==t.key?this.ship.stopFire():"ArrowRight"==t.key?this.ship.stopRight():"ArrowLeft"==t.key&&this.ship.stopLeft())}},{key:"evt_onPointerMove",value:function(t){this.controlEnabled&&this.ship.updateCurrentPoint(t.data.getLocalPosition(this))}},{key:"evt_onPointerDown",value:function(t){this.controlEnabled&&(this.ship.startFire(),this.ship.enablePointMovement(t.data.getLocalPosition(this)))}},{key:"evt_onPointerUp",value:function(t){this.controlEnabled&&(this.ship.disablePointMovement(),this.ship.stopFire())}}]),e}();function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Se(t,e,i){return e&&Ce(t.prototype,e),i&&Ce(t,i),t}function Oe(t,e){return!e||"object"!==ke(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function je(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _e=function(t){function e(t){var i;return xe(this,e),(i=Oe(this,Pe(e).call(this))).init(t),i}return je(e,n["Container"]),Se(e,[{key:"init",value:function(t){this.maxPage=t,this.activated=!1,this.activated=!1,this.animateIn=!0,this.currentYPos=70,this.scrollText=new n.Text("scroll",new PIXI.TextStyle({fontFamily:"font1",fontSize:22,align:"center",fill:["#414141"],letterSpacing:2})),this.scrollText.anchor.set(.5,.5),this.scrollText.rotation=.5*-Math.PI,this.addChild(this.scrollText),this.textMask=new n.Graphics,this.textMask.beginFill(4276545),this.textMask.drawRect(-15,-50,30,100),this.textMask.endFill(),this.textMask.scale.y=0,this.addChild(this.textMask),this.scrollText.mask=this.textMask,this.up=new De,this.addChild(this.up),this.down=new De,this.down.rotation=Math.PI,this.addChild(this.down),this.activatedWithBind=this.evt_activated.bind(this),this.up.on("ACTIVATED",this.activatedWithBind),this.down.on("ACTIVATED",this.activatedWithBind),this.deactivatedWithBind=this.evt_deactivated.bind(this),this.up.on("DEACTIVATED",this.deactivatedWithBind),this.down.on("DEACTIVATED",this.deactivatedWithBind)}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.up).to({y:-70},t,e),createjs.Tween.get(this.down).to({y:70},t,e),createjs.Tween.get(this.textMask.scale).to({y:1},t,e)}},{key:"activate",value:function(){this.activated=!0}},{key:"deactivate",value:function(){this.activated=!1}},{key:"updatePage",value:function(t){t<=1?(this.up.updateToX(),this.down.updateToArrow()):t>=this.maxPage?(this.up.updateToArrow(),this.down.updateToX()):(this.up.updateToArrow(),this.down.updateToArrow())}},{key:"evt_activated",value:function(t){t.isArrow&&(t==this.up?(this.emit("SCROLL",!0),this.down.updateToX()):(this.emit("SCROLL",!1),this.up.updateToX()))}},{key:"evt_deactivated",value:function(t){t.isArrow&&t.updateToX()}},{key:"manageWheel",value:function(t){t<0?this.up.activate():this.down.activate()}},{key:"activateUp",value:function(){this.up.activate()}},{key:"activateDown",value:function(){this.down.activate()}},{key:"update",value:function(){this.activated&&(this.animateIn?(this.currentYPos-=.2,this.currentYPos<=60&&(this.animateIn=!1)):(this.currentYPos+=.1,this.currentYPos>=70&&(this.animateIn=!0)),this.up.y=-this.currentYPos,this.down.y=this.currentYPos)}}]),e}(),De=function(t){function e(){var t;return xe(this,e),(t=Oe(this,Pe(e).call(this))).init(),t}return je(e,n["Container"]),Se(e,[{key:"init",value:function(){this.interactive=!0,this.activated=!1,this.cursor="pointer",this.isArrow=!1,this.sendEvent=!1,this.textures=[S.images["assets/images/empty_triangle.png"],S.images["assets/images/triangle.png"],S.images["assets/images/empty_x.png"]],this.hitbox=new n.Graphics,this.hitbox.beginFill(0),this.hitbox.drawRect(-30,-30,60,60),this.hitbox.endFill(),this.hitbox.alpha=0,this.addChild(this.hitbox),this.sprite1=new n.Sprite(this.textures[0]),this.sprite1.anchor.set(.5,.5),this.sprite1.tint=4276545,this.sprite1.interactive=!1,this.addChild(this.sprite1),this.sprite2=new n.Sprite(this.textures[2]),this.sprite2.anchor.set(.5,.5),this.sprite2.tint=4276545,this.sprite2.alpha=0,this.sprite2.y=10,this.sprite2.interactive=!1,this.addChild(this.sprite2),this.onPointerOutWithBind=this.evt_onPointerOut.bind(this),this.on("pointerout",this.onPointerOutWithBind),this.onPointerOverWithBind=this.evt_onPointerOver.bind(this),this.on("pointerover",this.onPointerOverWithBind),this.onPointerDownWithBind=this.evt_onPointerDown.bind(this),this.on("pointerdown",this.onPointerDownWithBind)}},{key:"updateToX",value:function(){0==this.sprite2.alpha&&(this.sprite2.texture=this.textures[2]),this.isArrow=!1}},{key:"updateToArrow",value:function(){0==this.sprite2.alpha&&(this.sprite2.texture=this.textures[1]),this.isArrow=!0}},{key:"checkUpdate",value:function(){this.isArrow?this.sprite2.texture!=this.textures[1]&&(this.sprite2.texture=this.textures[1]):this.sprite2.texture!=this.textures[2]&&(this.sprite2.texture=this.textures[2])}},{key:"evt_onPointerOut",value:function(){this.activated||(createjs.Tween.get(this.sprite1).to({alpha:1,y:0},600,createjs.Ease.linear),createjs.Tween.get(this.sprite2).to({alpha:0,y:10},600,createjs.Ease.linear).call(this.checkUpdate,[],this))}},{key:"evt_onPointerOver",value:function(){this.activated||(createjs.Tween.get(this.sprite1).to({alpha:0,y:10},300,createjs.Ease.linear),createjs.Tween.get(this.sprite2).to({alpha:1,y:0},300,createjs.Ease.linear))}},{key:"evt_onPointerDown",value:function(){this.activate()}},{key:"activate",value:function(){this.activated||(this.isArrow&&(this.emit("ACTIVATED",this),this.sendEvent=!0),this.activated=!0,this.checkUpdate(),createjs.Tween.get(this.sprite1).to({alpha:0,y:10},300,createjs.Ease.linear),createjs.Tween.get(this.sprite2).to({alpha:1,y:0},300,createjs.Ease.linear).call(this.pointerDownCompleted1,[],this))}},{key:"pointerDownCompleted1",value:function(){createjs.Tween.get(this.sprite1).to({alpha:1,y:0},600,createjs.Ease.linear),createjs.Tween.get(this.sprite2).to({alpha:0,y:10},600,createjs.Ease.linear).call(this.pointerDownCompleted2,[],this)}},{key:"pointerDownCompleted2",value:function(){this.activated=!1,this.checkUpdate(),this.sendEvent&&(this.emit("DEACTIVATED",this),this.sendEvent=!1)}}]),e}(),Ee=_e;function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Le(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Be(t,e){return(Be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fe=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Le(this,Re(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Be(t,e)}(e,n["Container"]),function(t,e,i){e&&Ae(t.prototype,e),i&&Ae(t,i)}(e,[{key:"init",value:function(){this.background=new n.Graphics,this.background.beginFill(13426635),this.background.drawRect(.5*-Oi.baseWidth,.5*-Oi.baseHeight,Oi.baseWidth,Oi.baseHeight),this.background.endFill(),this.addChild(this.background),this.mobileAndTabletcheck()?this.image=new n.Sprite(S.images["assets/images/resize1.png"]):this.image=new n.Sprite(S.images["assets/images/resize2.png"]),this.image.anchor.set(.5,.5),this.image.tint=4276545,this.addChild(this.image)}},{key:"mobileAndTabletcheck",value:function(){var t=!1;return null!=window.navigator.userAgent&&this.regexCheck(window.navigator.userAgent)?t=!0:null!=window.navigator.vendor&&this.regexCheck(window.navigator.vendor)?t=!0:null!=window.navigator.opera&&this.regexCheck(window.navigator.opera)&&(t=!0),t}},{key:"regexCheck",value:function(t){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))}}]),e}();function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ge(t,e){return!e||"object"!==We(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ze=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ge(this,Ue(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(e,n["Container"]),function(t,e,i){e&&He(t.prototype,e),i&&He(t,i)}(e,[{key:"init",value:function(){this.activated=!1,this.interactive=!0,this.cursor="pointer",this.contactText=new n.Text("contact",new PIXI.TextStyle({fontFamily:"font1",fontSize:22,align:"center",fill:["#414141"],letterSpacing:2})),this.contactText.anchor.set(.5,.5),this.addChild(this.contactText),this.interactiveContainer=new n.Container,this.addChild(this.interactiveContainer),this.interactiveMask=new n.Graphics,this.interactiveMask.beginFill(4276545),this.interactiveMask.drawCircle(0,0,50),this.interactiveMask.endFill(),this.interactiveMask.scale.x=0,this.interactiveMask.scale.y=0,this.addChild(this.interactiveMask),this.interactiveContainer.mask=this.interactiveMask,this.interactiveRect=new n.Graphics,this.interactiveRect.beginFill(4276545),this.interactiveRect.drawRect(-50,-29,100,58),this.interactiveRect.endFill(),this.interactiveContainer.addChild(this.interactiveRect),this.interactiveText=new n.Text("contact",new PIXI.TextStyle({fontFamily:"font1",fontSize:22,align:"center",fill:["#ccdfcb"],letterSpacing:2})),this.interactiveText.anchor.set(.5,.5),this.interactiveContainer.addChild(this.interactiveText),this.copiedText=new n.Text("email\ncopied",new PIXI.TextStyle({fontFamily:"font1",fontSize:22,align:"center",fill:["#ccdfcb"],letterSpacing:2})),this.copiedText.anchor.set(.5,.5),this.copiedText.alpha=0,this.interactiveContainer.addChild(this.copiedText),this.onPointerOutWithBind=this.evt_onPointerOut.bind(this),this.on("pointerout",this.onPointerOutWithBind),this.onPointerOverWithBind=this.evt_onPointerOver.bind(this),this.on("pointerover",this.onPointerOverWithBind),this.onPointerDownWithBind=this.evt_onPointerDown.bind(this),this.on("pointerdown",this.onPointerDownWithBind)}},{key:"pointerDown1",value:function(){var t=this;window.navigator.clipboard.writeText("kevinbaniquedsoliman@gmail.com").then(function(){t.activated=!0,createjs.Tween.get(t.interactiveText).to({alpha:0},300,createjs.Ease.cubicIn),createjs.Tween.get(t.interactiveMask.scale).to({x:1.5,y:1.5},300,createjs.Ease.cubicOut).call(t.pointerDown2,[],t)}).catch(function(t){console.error("Could not copy Email: ",t)})}},{key:"pointerDown2",value:function(){createjs.Tween.get(this.copiedText).to({alpha:1},500,createjs.Ease.cubicOut),createjs.Tween.get(this).wait(1e3).call(this.pointerDown3,[],this)}},{key:"pointerDown3",value:function(){createjs.Tween.get(this.interactiveMask.scale).to({x:0,y:0},500,createjs.Ease.cubicIn).call(this.pointerDown4,[],this)}},{key:"pointerDown4",value:function(){this.activated=!1,this.copiedText.alpha=0,this.interactiveText.alpha=1}},{key:"evt_onPointerOut",value:function(){this.activated||createjs.Tween.get(this.interactiveMask.scale).to({x:0,y:0},300,createjs.Ease.cubicIn)}},{key:"evt_onPointerOver",value:function(){this.activated||createjs.Tween.get(this.interactiveMask.scale).to({x:1,y:1},300,createjs.Ease.cubicOut)}},{key:"evt_onPointerDown",value:function(){this.activated||this.pointerDown1()}}]),e}();function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ve(t,e){return!e||"object"!==Ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qe=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ve(this,Je(e).call(this))).init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(e,n["Container"]),function(t,e,i){e&&Ye(t.prototype,e),i&&Ye(t,i)}(e,[{key:"init",value:function(){this.activate=!1,this.interactive=!0,this.cursor="pointer",this.kText=new n.Text("K",new PIXI.TextStyle({fontFamily:"font2",fontSize:42,align:"center",fill:["#414141"],letterSpacing:2})),this.kText.anchor.set(.5,.5),this.kText.position.set(-9.5,0),this.addChild(this.kText),this.sText=new n.Text("S",new PIXI.TextStyle({fontFamily:"font2",fontSize:42,align:"center",fill:["#414141"],letterSpacing:2})),this.sText.anchor.set(.5,.5),this.sText.position.set(9.5,0),this.addChild(this.sText),this.interactiveContainer=new n.Container,this.addChild(this.interactiveContainer),this.interactiveMask=new n.Graphics,this.interactiveMask.beginFill(4276545),this.interactiveMask.drawRect(-30,-30,60,60),this.interactiveMask.endFill(),this.interactiveMask.scale.x=0,this.interactiveMask.scale.y=0,this.addChild(this.interactiveMask),this.interactiveContainer.mask=this.interactiveMask,this.interactiveRect=new n.Graphics,this.interactiveRect.beginFill(4276545),this.interactiveRect.drawRect(-30,-29,58,58),this.interactiveRect.endFill(),this.interactiveContainer.addChild(this.interactiveRect),this.kText=new n.Text("K",new PIXI.TextStyle({fontFamily:"font2",fontSize:42,align:"center",fill:["#ccdfcb"],letterSpacing:2})),this.kText.anchor.set(.5,.5),this.kText.position.set(-9.5,0),this.interactiveContainer.addChild(this.kText),this.sText=new n.Text("S",new PIXI.TextStyle({fontFamily:"font2",fontSize:42,align:"center",fill:["#ccdfcb"],letterSpacing:2})),this.sText.anchor.set(.5,.5),this.sText.position.set(9.5,0),this.interactiveContainer.addChild(this.sText),this.onPointerOutWithBind=this.evt_onPointerOut.bind(this),this.on("pointerout",this.onPointerOutWithBind),this.onPointerOverWithBind=this.evt_onPointerOver.bind(this),this.on("pointerover",this.onPointerOverWithBind),this.onPointerDownWithBind=this.evt_onPointerDown.bind(this),this.on("pointerdown",this.onPointerDownWithBind)}},{key:"evt_onPointerOut",value:function(){createjs.Tween.get(this.interactiveMask).to({rotation:0},300,createjs.Ease.cubicIn),createjs.Tween.get(this.interactiveMask.scale).to({x:0,y:0},300,createjs.Ease.cubicIn)}},{key:"evt_onPointerOver",value:function(){createjs.Tween.get(this.interactiveMask).to({rotation:Math.PI},300,createjs.Ease.cubicOut),createjs.Tween.get(this.interactiveMask.scale).to({x:1,y:1},300,createjs.Ease.cubicOut)}},{key:"evt_onPointerDown",value:function(){this.activate||(this.activate=!0,window.location.replace("http://localhost:8080/"))}}]),e}();function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ti(t,e,i){return e&&$e(t.prototype,e),i&&$e(t,i),t}function ei(t,e){return!e||"object"!==Qe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ni(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ai(t,e)}function ai(t,e){return(ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var si=function(t){function e(){var t;return Ze(this,e),(t=ei(this,ii(e).call(this))).init(),t}return ni(e,n["Container"]),ti(e,[{key:"init",value:function(){this.titleText=new PIXI.Text("THANK YOU FOR PLAYING",{fontSize:52,fontFamily:"font1",fill:"#414141",align:"center",letterSpacing:6}),this.titleText.anchor.set(.5,.5),this.titleText.position.set(0,.2*-Oi.baseHeight+40),this.addChild(this.titleText),this.info1Text=new PIXI.Text("You can see my previous projects on LinkedIn. Hit me up to talk about your next project.",{fontSize:26,fontFamily:"font2",fill:"#414141",align:"center",wordWrap:!0,wordWrapWidth:480}),this.info1Text.anchor.set(.5,.5),this.info1Text.position.set(0,.04*-Oi.baseHeight+40),this.addChild(this.info1Text),this.iconFB=new ri(S.images["assets/images/icon_fb.png"]),this.iconFB.position.set(.15*-Oi.baseWidth,.13*Oi.baseHeight),this.addChild(this.iconFB),this.iconIG=new ri(S.images["assets/images/icon_ig.png"]),this.iconIG.position.set(.05*-Oi.baseWidth,.13*Oi.baseHeight),this.addChild(this.iconIG),this.iconIN=new ri(S.images["assets/images/icon_in.png"]),this.iconIN.position.set(.05*Oi.baseWidth,.13*Oi.baseHeight),this.addChild(this.iconIN),this.iconEmail=new ri(S.images["assets/images/icon_email.png"]),this.iconEmail.position.set(.15*Oi.baseWidth,.13*Oi.baseHeight),this.addChild(this.iconEmail),this.btnActivatedWithBind=this.evt_btnActivated.bind(this),this.iconFB.on("ACTIVATED",this.btnActivatedWithBind),this.iconIG.on("ACTIVATED",this.btnActivatedWithBind),this.iconIN.on("ACTIVATED",this.btnActivatedWithBind),this.iconEmail.on("ACTIVATED",this.btnActivatedWithBind)}},{key:"animateIn1",value:function(t,e){createjs.Tween.get(this.titleText).to({y:.2*-Oi.baseHeight},t,e),createjs.Tween.get(this.info1Text).to({y:.04*-Oi.baseHeight},t,e)}},{key:"backOut1",value:function(t,e){createjs.Tween.get(this.titleText).to({y:.2*-Oi.baseHeight+40},t,e),createjs.Tween.get(this.info1Text).to({y:.04*-Oi.baseHeight+40},t,e)}},{key:"evt_btnActivated",value:function(t){t==this.iconFB?window.open("https://web.facebook.com/kevsoli","_blank"):t==this.iconIG?window.open("https://www.instagram.com/kev_soli/?hl=en","_blank"):t==this.iconIN?window.open("https://www.linkedin.com/in/kevinsoliman/","_blank"):t==this.iconEmail&&(window.location.href="mailto:mail@example.org")}}]),e}(),ri=function(t){function e(t){var i;return Ze(this,e),(i=ei(this,ii(e).call(this,t))).init(),i}return ni(e,n["Sprite"]),ti(e,[{key:"init",value:function(){this.anchor.set(.5,.5),this.tint=4276545,this.interactive=!0,this.cursor="pointer",this.onPointerOutWithBind=this.evt_onPointerOut.bind(this),this.on("pointerout",this.onPointerOutWithBind),this.onPointerOverWithBind=this.evt_onPointerOver.bind(this),this.on("pointerover",this.onPointerOverWithBind),this.onPointerDownWithBind=this.evt_onPointerDown.bind(this),this.on("pointerdown",this.onPointerDownWithBind)}},{key:"evt_onPointerOver",value:function(t){createjs.Tween.get(this).to({rotation:.25*Math.PI},400,createjs.Ease.cubicInOut)}},{key:"evt_onPointerOut",value:function(t){createjs.Tween.get(this).to({rotation:0},400,createjs.Ease.cubicInOut)}},{key:"evt_onPointerDown",value:function(t){this.emit("ACTIVATED",this)}}]),e}(),hi=si;function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ci(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ui(t,e,i){return e&&ci(t.prototype,e),i&&ci(t,i),t}function pi(t,e){return!e||"object"!==oi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function di(t,e,i){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fi(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function fi(t){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yi(t,e)}function yi(t,e){return(yi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gi=function(t){function e(){return li(this,e),pi(this,fi(e).call(this))}return vi(e,f),ui(e,[{key:"init",value:function(){di(fi(e.prototype),"init",this).call(this),this.initProps(),this.initGraphics(),this.initEvents()}},{key:"initProps",value:function(){this.currentPage=0,this.maxPage=8,this.pageTransitioning=!0,this.minScreenWidth=425}},{key:"initGraphics",value:function(){this.bg=new n.Graphics,this.bg.beginFill(13426635),this.bg.drawRect(0,0,Oi.baseWidth,Oi.baseHeight),this.bg.endFill(),this.addChild(this.bg),this.fpsCounter=new n.Text("100"),this.fpsCounter.anchor.set(.5,.5),this.fpsCounter.position.set(.5*Oi.baseWidth,.9*Oi.baseHeight),this.rect=new n.Graphics,this.rect.beginFill(4276545),this.rect.drawRect(-8,-8,16,16),this.rect.endFill(),this.rect.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.rect),this.nameText=new mi("KEVIN SOLIMAN",new PIXI.TextStyle({fontFamily:"font1",fontSize:42,fontWeight:"bold",align:"center",fill:["#414141"],letterSpacing:6})),this.nameText.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.nameText),this.nameText.hide(),this.devText=new mi("GAME DEVELOPER",new PIXI.TextStyle({fontFamily:"font1",fontSize:28,align:"center",fill:["#414141"],letterSpacing:6})),this.devText.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.devText),this.devText.hide(),this.shooter=new Te,this.shooter.visible=!1,this.addChild(this.shooter),this.shooter.visible=!1,this.specialization=new ct,this.specialization.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.specialization.alpha=0,this.specialization.visible=!1,this.addChild(this.specialization),this.gamePlay=new kt,this.gamePlay.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.gamePlay.visible=!1,this.addChild(this.gamePlay),this.ai=new Ut,this.ai.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.ai.visible=!1,this.addChild(this.ai),this.physics=new ee,this.physics.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.physics.visible=!1,this.addChild(this.physics),this.levelDesign=new ve,this.levelDesign.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.levelDesign.visible=!1,this.addChild(this.levelDesign),this.contact=new ze,this.contact.x=.93*Oi.baseWidth,this.contact.y=.058*Oi.baseHeight,this.contact.alpha=0,this.addChild(this.contact),this.logo=new qe,this.logo.x=.05*Oi.baseWidth,this.logo.y=.058*Oi.baseHeight,this.logo.alpha=0,this.addChild(this.logo),this.scroll=new Ee(this.maxPage),this.scroll.x=.05*Oi.baseWidth,this.scroll.y=.5*Oi.baseHeight,this.scroll.alpha=0,this.addChild(this.scroll),this.info=new hi,this.info.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.info),this.info.visible=!1,this.info.alpha=0,this.resize=new Fe,this.resize.position.set(.5*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.resize),this.resize.visible=!1}},{key:"initEvents",value:function(){this.scrollWithBind=this.evt_scroll.bind(this),window.addEventListener("wheel",this.scrollWithBind),this.updateWithBind=this.update.bind(this),Pi.add(this.updateWithBind),this.onKeyDownWithBind=this.onKeyDown.bind(this),window.addEventListener("keydown",this.onKeyDownWithBind),this.onKeyUpWithBind=this.onKeyUp.bind(this),window.addEventListener("keyup",this.onKeyUpWithBind),this.onScrollWithBind=this.evt_onScroll.bind(this),this.scroll.on("SCROLL",this.onScrollWithBind)}},{key:"onKeyDown",value:function(t){this.pageTransitioning||(2==this.currentPage?this.shooter.evt_onKeyDown(t):5==this.currentPage?this.ai.onKeyDown(t):6==this.currentPage?this.physics.onKeyDown(t):7==this.currentPage&&this.levelDesign.evt_onKeyDown(t)),"PageDown"==t.key?this.scroll.activateDown():"PageUp"==t.key&&this.scroll.activateUp()}},{key:"onKeyUp",value:function(t){this.pageTransitioning||2==this.currentPage&&this.shooter.evt_onKeyUp(t)}},{key:"evt_onScroll",value:function(t){this.manageScroll(t)}},{key:"update",value:function(){this.miniGamesUpdate(),this.fpsCounter.text=Math.ceil(Pi.FPS)}},{key:"transitionCompleted",value:function(){this.scroll.updatePage(this.currentPage),this.pageTransitioning=!1}},{key:"miniGamesUpdate",value:function(){this.scroll.update(),this.shooter.update(),this.specialization.update(),this.gamePlay.update(),this.ai.update(),this.physics.update(),this.levelDesign.update()}},{key:"evt_scroll",value:function(t){this.scroll.manageWheel(t.deltaY)}},{key:"didAppear",value:function(){this.checkScreenSize(),di(fi(e.prototype),"didAppear",this).call(this),this.animateIntro1()}},{key:"testIntro",value:function(){this.rect.visible=!1,this.info.visible=!0}},{key:"incrementCurrentPage",value:function(){this.currentPage++}},{key:"decrementCurrentPage",value:function(){this.currentPage--}},{key:"animateIntro1",value:function(){this.incrementCurrentPage(),createjs.Tween.get(this.rect).to({height:4},400,createjs.Ease.cubicIn).call(this.animateIntro2,[],this)}},{key:"animateIntro2",value:function(){createjs.Tween.get(this.rect).to({width:540},400,createjs.Ease.cubicIn).call(this.animateIntro3,[],this)}},{key:"animateIntro3",value:function(){createjs.Tween.get(this.contact).to({alpha:1},300,createjs.Ease.cubicInOut),createjs.Tween.get(this.logo).to({alpha:1},300,createjs.Ease.cubicInOut),createjs.Tween.get(this.scroll).to({alpha:1},300,createjs.Ease.cubicInOut),this.nameText.appearFromTheBottom(300,createjs.Ease.cubicOut),this.devText.appearFromTheTop(300,createjs.Ease.cubicOut),createjs.Tween.get(this).wait(300).to({pageTransitioning:!1}).call(this.animateIntro4,[],this)}},{key:"animateIntro4",value:function(){this.scroll.animateIn1(300,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(300).call(this.animateIntro5,[],this)}},{key:"animateIntro5",value:function(){this.scroll.activate(),this.transitionCompleted()}},{key:"animateShooter1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.nameText.disappear(800,createjs.Ease.cubicIn),this.devText.disappear(800,createjs.Ease.cubicIn),createjs.Tween.get(this).wait(800).call(this.animateShooter2,[],this)}},{key:"animateShooter2",value:function(){createjs.Tween.get(this.rect).to({rotation:3*Math.PI/4},400,createjs.Ease.cubicIn).call(this.animateShooter3,[],this)}},{key:"animateShooter3",value:function(){createjs.Tween.get(this.rect).to({width:4},400,createjs.Ease.cubicIn).call(this.animateShooter4,[],this)}},{key:"animateShooter4",value:function(){createjs.Tween.get(this.rect).to({width:60,height:60},400,createjs.Ease.cubicIn).call(this.animateShooter5,[],this)}},{key:"animateShooter5",value:function(){this.shooter.visible=!0,this.shooter.activate(),this.shooter.animate1(2e3,createjs.Ease.cubicInOut),createjs.Tween.get(this.rect).to({alpha:0,visible:!1},500),createjs.Tween.get(this).wait(2e3).call(this.animateShooter6,[],this)}},{key:"animateShooter6",value:function(){this.shooter.enableControl(),this.transitionCompleted()}},{key:"animateSpecialty1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.shooter.disablecontrol(),this.shooter.animateOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateSpecialty2,[],this)}},{key:"animateSpecialty2",value:function(){this.rect.visible=!0,this.shooter.animateOut2(500),createjs.Tween.get(this.rect).to({alpha:1,rotation:0},500).call(this.animateSpecialty3,[],this)}},{key:"animateSpecialty3",value:function(){this.shooter.deactivate(),this.shooter.visible=!1,this.specialization.visible=!0,this.specialization.animateIn1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this.rect).to({alpha:0,visible:!1},600,createjs.Ease.cubicInOut),createjs.Tween.get(this.specialization).to({alpha:1},600,createjs.Ease.cubicInOut).call(this.animateSpecialty4,[],this)}},{key:"animateSpecialty4",value:function(){this.specialization.animateIn2(1200,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateSpecialty5,[],this)}},{key:"animateSpecialty5",value:function(){this.specialization.animateIn3(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateSpecialty6,[],this)}},{key:"animateSpecialty6",value:function(){this.specialization.activate(),this.transitionCompleted()}},{key:"animateGameplay1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.specialization.deactivate(),this.specialization.animateOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateGameplay2,[],this)}},{key:"animateGameplay2",value:function(){this.specialization.animateOut2(600,createjs.Ease.backOut),createjs.Tween.get(this.specialization).to({y:.5*Oi.baseHeight-80},600,createjs.Ease.backOut).call(this.animateGameplay3,[],this)}},{key:"animateGameplay3",value:function(){this.gamePlay.visible=!0,this.gamePlay.animateIn1(300,createjs.Ease.cubicInOut),createjs.Tween.get(this.specialization).to({alpha:0,visible:!1},300,createjs.Ease.cubicInOut).call(this.animateGameplay4,[],this)}},{key:"animateGameplay4",value:function(){this.gamePlay.animateIn2(300,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(300).call(this.animateGameplay5,[],this)}},{key:"animateGameplay5",value:function(){this.gamePlay.activate(),this.gamePlay.animateIn3(800,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(800).call(this.animateGameplay6,[],this)}},{key:"animateGameplay6",value:function(){this.gamePlay.enableControls(),this.transitionCompleted()}},{key:"animateAI1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.gamePlay.animateOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateAI2,[],this)}},{key:"animateAI2",value:function(){this.gamePlay.animateOut2(600,createjs.Ease.cubicInOut),this.gamePlay.deactivate(),createjs.Tween.get(this).wait(600).call(this.animateAI3,[],this)}},{key:"animateAI3",value:function(){this.ai.visible=!0,this.ai.animateIn1(600,createjs.Ease.cubicInOut),this.gamePlay.animateOut3(600,createjs.Ease.elasticIn),createjs.Tween.get(this).wait(600).call(this.animateAI4,[],this)}},{key:"animateAI4",value:function(){this.ai.animateIn2(1e3,createjs.Ease.backOut,5),createjs.Tween.get(this).wait(1e3).call(this.animateAI5,[],this)}},{key:"animateAI5",value:function(){this.ai.animateIn3(600,createjs.Ease.backOut),createjs.Tween.get(this).wait(600).call(this.animateAI6,[],this)}},{key:"animateAI6",value:function(){this.transitionCompleted(),this.ai.activate()}},{key:"animatePhysics1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.gamePlay.disableControls(),this.ai.deactivate(),this.ai.animateOut1(1e3,createjs.Ease.backIn,5),createjs.Tween.get(this).wait(1e3).call(this.animatePhysics2,[],this)}},{key:"animatePhysics2",value:function(){this.ai.animateOut2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animatePhysics3,[],this)}},{key:"animatePhysics3",value:function(){this.ai.visible=!1,this.physics.visible=!0,this.physics.animateIn1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animatePhysics4,[],this)}},{key:"animatePhysics4",value:function(){this.physics.animateIn2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animatePhysics5,[],this)}},{key:"animatePhysics5",value:function(){this.transitionCompleted(),this.physics.activate()}},{key:"animateLevelDesign1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.physics.disableCollision(),this.physics.animateOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateLevelDesign2,[],this)}},{key:"animateLevelDesign2",value:function(){this.levelDesign.visible=!0,this.physics.deactivate(),this.physics.animateOut2(600,createjs.Ease.cubicInOut),this.levelDesign.animateIn1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateLevelDesign3,[],this)}},{key:"animateLevelDesign3",value:function(){this.levelDesign.animateIn2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateLevelDesign4,[],this)}},{key:"animateLevelDesign4",value:function(){this.physics.visible=!1,this.transitionCompleted(),this.levelDesign.activate()}},{key:"animateInfo1",value:function(){this.pageTransitioning=!0,this.incrementCurrentPage(),this.levelDesign.deactivate(),this.levelDesign.animateOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateInfo2,[],this)}},{key:"animateInfo2",value:function(){this.levelDesign.animateOut2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.animateInfo3,[],this)}},{key:"animateInfo3",value:function(){this.levelDesign.visible=!1,this.info.visible=!0,this.info.animateIn1(1200,createjs.Ease.cubicInOut),createjs.Tween.get(this.info).to({alpha:1},1200,createjs.Ease.cubicInOut).call(this.animateInfo4,[],this)}},{key:"animateInfo4",value:function(){this.transitionCompleted()}},{key:"backOutShooter1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.rect.visible=!0,this.shooter.disablecontrol(),this.shooter.backOut1(2e3,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(1500).call(this.backOutShooter2,[],this)}},{key:"backOutShooter2",value:function(){createjs.Tween.get(this.rect).to({alpha:1},500,createjs.Ease.cubicIn).call(this.backOutShooter3,[],this)}},{key:"backOutShooter3",value:function(){this.shooter.visible=!1,this.shooter.deactivate(),createjs.Tween.get(this.rect).to({width:4,height:4},400,createjs.Ease.cubicIn).call(this.backOutShooter4,[],this)}},{key:"backOutShooter4",value:function(){createjs.Tween.get(this.rect).to({width:540},400,createjs.Ease.cubicIn).call(this.backOutShooter5,[],this)}},{key:"backOutShooter5",value:function(){createjs.Tween.get(this.rect).to({rotation:0},400,createjs.Ease.cubicIn).call(this.backOutShooter6,[],this)}},{key:"backOutShooter6",value:function(){this.nameText.appearFromTheBottom(800,createjs.Ease.cubicOut),this.devText.appearFromTheTop(800,createjs.Ease.cubicOut),createjs.Tween.get(this).wait(800).call(this.backOutShooter7,[],this)}},{key:"backOutShooter7",value:function(){this.shooter.reset(),this.transitionCompleted()}},{key:"backOutSSpecialty1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.specialization.deactivate(),this.specialization.backOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600),this.backOutSSpecialty2()}},{key:"backOutSSpecialty2",value:function(){this.specialization.backOut2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutSSpecialty3,[],this)}},{key:"backOutSSpecialty3",value:function(){this.rect.visible=!0,this.specialization.backOut3(300,createjs.Ease.cubicInOut),createjs.Tween.get(this.rect).to({alpha:1},300,createjs.Ease.cubicInOut),createjs.Tween.get(this.specialization).to({alpha:0,visible:!1},300,createjs.Ease.cubicInOut).call(this.backOutSSpecialty4,[],this)}},{key:"backOutSSpecialty4",value:function(){this.shooter.visible=!0,this.shooter.activate(),this.shooter.backIn1(500),createjs.Tween.get(this.rect).to({alpha:0,rotation:3*Math.PI/4,visible:!1},500).call(this.backOutSSpecialty5,[],this)}},{key:"backOutSSpecialty5",value:function(){this.shooter.backIn2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutSSpecialty6,[],this).call(this.backOutSSpecialty6,[],this)}},{key:"backOutSSpecialty6",value:function(){this.shooter.enableControl(),this.transitionCompleted()}},{key:"backOutGameplay1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.gamePlay.disableControls(),this.gamePlay.backOut1(300,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(300).call(this.backOutGameplay2,[],this)}},{key:"backOutGameplay2",value:function(){this.gamePlay.deactivate(),this.gamePlay.backOut2(300,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(300).call(this.backOutGameplay3,[],this)}},{key:"backOutGameplay3",value:function(){this.specialization.visible=!0,this.gamePlay.backOut3(300,createjs.Ease.cubicInOut),createjs.Tween.get(this.specialization).to({alpha:1},300,createjs.Ease.cubicInOut).call(this.backOutGameplay4,[],this)}},{key:"backOutGameplay4",value:function(){this.gamePlay.visible=!1,this.specialization.backIn1(600,createjs.Ease.backOut),createjs.Tween.get(this.specialization).to({y:.5*Oi.baseHeight},600,createjs.Ease.backOut).call(this.backOutGameplay5,[],this)}},{key:"backOutGameplay5",value:function(){this.specialization.backIn2(600,createjs.Ease.backOut),createjs.Tween.get(this).wait(600).call(this.backOutGameplay6,[],this)}},{key:"backOutGameplay6",value:function(){this.specialization.activate(),this.transitionCompleted()}},{key:"backOutAI1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.ai.deactivate(),this.ai.backOut1(600,createjs.Ease.backIn),this.backOutAI2()}},{key:"backOutAI2",value:function(){this.ai.backOut2(1e3,createjs.Ease.backIn,5),createjs.Tween.get(this).wait(1e3).call(this.backOutAI3,[],this)}},{key:"backOutAI3",value:function(){this.gamePlay.visible=!0,this.ai.backOut3(600,createjs.Ease.cubicInOut),this.gamePlay.backIn1(600,createjs.Ease.elasticOut),createjs.Tween.get(this).wait(600).call(this.backOutAI4,[],this)}},{key:"backOutAI4",value:function(){this.ai.visible=!1,this.gamePlay.activate(),this.gamePlay.backIn2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutAI5,[],this)}},{key:"backOutAI5",value:function(){this.gamePlay.backIn3(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutAI6,[],this)}},{key:"backOutAI6",value:function(){this.transitionCompleted()}},{key:"backOutPhysics1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.physics.deactivate(),this.physics.backOut1(600,createjs.Ease.cubicOut),createjs.Tween.get(this).wait(600).call(this.backOutPhysics2,[],this)}},{key:"backOutPhysics2",value:function(){this.physics.backOut2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutPhysics3,[],this)}},{key:"backOutPhysics3",value:function(){this.ai.visible=!0,this.physics.visible=!1,this.ai.backIn1(1e3,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(1e3).call(this.backOutPhysics4,[],this)}},{key:"backOutPhysics4",value:function(){this.ai.backIn2(1e3,createjs.Ease.backOut,5),createjs.Tween.get(this).wait(1e3).call(this.backOutPhysics5,[],this)}},{key:"backOutPhysics5",value:function(){this.ai.backIn3(300,createjs.Ease.cubicInOut),this.ai.activate(),this.transitionCompleted()}},{key:"backOutLevelDesign1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.levelDesign.deactivate(),this.levelDesign.backOut1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutLevelDesign2,[],this)}},{key:"backOutLevelDesign2",value:function(){this.physics.visible=!0,this.levelDesign.backOut2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutLevelDesign3,[],this)}},{key:"backOutLevelDesign3",value:function(){this.levelDesign.visible=!1,this.physics.backIn1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutLevelDesign4,[],this)}},{key:"backOutLevelDesign4",value:function(){this.physics.backIn2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutLevelDesign5,[],this)}},{key:"backOutLevelDesign5",value:function(){this.physics.activate(),this.transitionCompleted()}},{key:"backOutInfo1",value:function(){this.pageTransitioning=!0,this.decrementCurrentPage(),this.info.backOut1(1200,createjs.Ease.cubicInOut),createjs.Tween.get(this.info).to({alpha:0,visible:!1},1200,createjs.Ease.cubicInOut).call(this.backOutInfo2,[],this)}},{key:"backOutInfo2",value:function(){this.levelDesign.visible=!0,this.levelDesign.backIn1(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutInfo3,[],this)}},{key:"backOutInfo3",value:function(){this.levelDesign.backIn2(600,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(600).call(this.backOutInfo4,[],this)}},{key:"backOutInfo4",value:function(){this.levelDesign.activate(),this.transitionCompleted()}},{key:"manageScroll",value:function(t){this.pageTransitioning||(t?this.manageScrollUp():this.manageScrollDown())}},{key:"manageScrollUp",value:function(){2==this.currentPage?this.backOutShooter1():3==this.currentPage?this.backOutSSpecialty1():4==this.currentPage?this.backOutGameplay1():5==this.currentPage?this.backOutAI1():6==this.currentPage?this.backOutPhysics1():7==this.currentPage?this.backOutLevelDesign1():8==this.currentPage&&this.backOutInfo1()}},{key:"manageScrollDown",value:function(){1==this.currentPage?this.animateShooter1():2==this.currentPage?this.animateSpecialty1():3==this.currentPage?this.animateGameplay1():4==this.currentPage?this.animateAI1():5==this.currentPage?this.animatePhysics1():6==this.currentPage?this.animateLevelDesign1():7==this.currentPage&&this.animateInfo1()}},{key:"didResize",value:function(){this.checkScreenSize()}},{key:"checkScreenSize",value:function(){window.innerWidth<this.minScreenWidth?this.resize.visible||(this.resize.visible=!0):this.resize.visible&&(this.resize.visible=!1)}}]),e}(),mi=function(t){function e(t,i){var n;return li(this,e),(n=pi(this,fi(e).call(this))).init(t,i),n}return vi(e,n["Container"]),ui(e,[{key:"init",value:function(t,e){this.text=new n.Text(t,e),this.text.anchor.set(.5,.5),this.mask=new n.Graphics,this.mask.beginFill(0),this.mask.drawRect(0,0,this.text.width,this.text.height),this.mask.endFill(),this.mask.pivot.set(.5*this.text.width,.5*this.text.height),this.mask.position.set(.5*-this.text.width,.5*-this.text.height),this.mask.x=0,this.mask.y=0,this.text.mask=this.mask,this.addChild(this.text),this.addChild(this.mask)}},{key:"hide",value:function(){this.visible=!1}},{key:"appearFromTheBottom",value:function(t,e){this.mask.y=-this.text.height,this.visible=!0,createjs.Tween.get(this.text).to({y:-this.text.height},t,e)}},{key:"appearFromTheTop",value:function(t,e){this.mask.y=this.text.height,this.visible=!0,createjs.Tween.get(this.text).to({y:this.text.height},t,e)}},{key:"disappear",value:function(t,e){this.visible=!0,createjs.Tween.get(this.text).to({y:0},t,e)}},{key:"maskBotPercentageUpdate",value:function(){this.mask.y=this.percentage*this.text.height-.5*this.text.height}}]),e}(),wi=gi;function bi(t){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ti(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ki(t,e){return!e||"object"!==bi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xi(t,e,i){return(xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ci(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(i):a.value}})(t,e,i||t)}function Ci(t){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Si(t,e){return(Si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oi,Pi,ji=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ki(this,Ci(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Si(t,e)}(e,f),function(t,e,i){e&&Ti(t.prototype,e),i&&Ti(t,i)}(e,[{key:"init",value:function(){xi(Ci(e.prototype),"init",this).call(this);for(var t=0;t<S.fonts.length;t++)this.fontAppend=new n.Text("0",{fontFamily:S.fonts[t]}),this.addChild(this.fontAppend);this.bg=new n.Graphics,this.bg.beginFill(13426635),this.bg.drawRect(0,0,Oi.baseWidth,Oi.baseHeight),this.bg.endFill(),this.addChild(this.bg),this.rect1=new n.Graphics,this.rect1.beginFill(4276545),this.rect1.drawRect(-8,-8,16,16),this.rect1.endFill(),this.rect1.position.set(.48*Oi.baseWidth,.5*Oi.baseHeight),this.rect2=new n.Graphics,this.rect2.beginFill(4276545),this.rect2.drawRect(-8,-8,16,16),this.rect2.endFill(),this.rect2.position.set(.52*Oi.baseWidth,.5*Oi.baseHeight),this.addChild(this.rect1),this.addChild(this.rect2)}},{key:"didAppear",value:function(){xi(Ci(e.prototype),"didAppear",this).call(this),this.animateRect(this.rect1,this.rect2),this.startLoader()}},{key:"animateRect",value:function(t,e){t.alpha=1,e.alpha=.2,createjs.Tween.get(t).to({alpha:.2},300),createjs.Tween.get(e).to({alpha:1},300).call(this.animateRect,[e,t],this)}},{key:"startLoader",value:function(){var t=this;C.queueAssets(r),C.start({onComplete:function(){createjs.Tween.removeAllTweens();var e=new wi;createjs.Tween.get(t.rect1).to({alpha:1,x:.5*Oi.baseWidth},200),createjs.Tween.get(t.rect2).to({alpha:1,x:.5*Oi.baseWidth},200).call(t.initGameScreen,[e],t)}})}},{key:"scaleUpRect1",value:function(){this.rect2.visible=!1,createjs.Tween.get(this.rect1).to({height:4},400,createjs.Ease.cubicIn).call(this.scaleUpRect2,[],this)}},{key:"scaleUpRect2",value:function(){createjs.Tween.get(this.rect1).to({width:540},400,createjs.Ease.cubicIn).call(this.initGameScreen,[],this)}},{key:"initGameScreen",value:function(t){Oi.replaceScreen(t)}},{key:"destroy",value:function(){C.onprogress=null,xi(Ci(e.prototype),"destroy",this).call(this,{children:!0})}}]),e}();function Mi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.d(e,"ScreenManager",function(){return Oi}),i.d(e,"UpdateManager",function(){return Pi}),i.d(e,"LoadManager",function(){return C}),i.d(e,"Assets",function(){return S}),new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(),this.checkLoadingState()}return function(t,e,i){e&&Mi(t.prototype,e),i&&Mi(t,i)}(t,[{key:"init",value:function(){this.canvas=document.getElementById("game-canvas"),this.pixiapp=new n.Application({view:this.canvas,autoStart:!1,antialias:!0,width:s.a.data.width,height:s.a.data.height,backgroundColor:parseInt(s.a.data.backgroundColor)}),Oi=new y(this.pixiapp),Pi=new m(this.pixiapp),this.initEvents()}},{key:"initEvents",value:function(){this.evt_onDeactivate=this.evt_onDeactivate.bind(this),this.evt_onActivate=this.evt_onActivate.bind(this),this.evt_onResize=this.evt_onResize.bind(this),this.evt_onVisibilityChange=this.evt_onVisibilityChange.bind(this),this.loadFont=this.loadFont.bind(this),window.addEventListener("blur",this.evt_onDeactivate),window.addEventListener("pagehide",this.evt_onDeactivate),window.addEventListener("focus",this.evt_onActivate),window.addEventListener("pageshow",this.evt_onActivate),window.addEventListener("resize",this.evt_onResize),document.addEventListener("webkitvisibilitychange",this.evt_onVisibilityChange),document.addEventListener("visibilitychange",this.evt_onVisibilityChange)}},{key:"checkLoadingState",value:function(){"loading"!=document.readyState?this.loadFont():document.addEventListener("DOMContentLoaded",this.loadFont)}},{key:"loadFont",value:function(){var t=this,e=!1,i=!1;C.queueAssets(h),C.start({onComplete:function(){e&&!i&&t.startGame(),i=!0},onFontFulfill:function(){i&&!e&&t.startGame(),e=!0},onFontReject:function(){e||i||(console.error("font promise rejected"),t.startGame())}})}},{key:"startGame",value:function(){Oi.setRootScreen(new ji)}},{key:"evt_onDeactivate",value:function(){Oi.deactivate()}},{key:"evt_onActivate",value:function(){Oi.activate()}},{key:"evt_onResize",value:function(){Oi.resizeScreen()}},{key:"evt_onVisibilityChange",value:function(){document.webkitHidden||document.hidden?this.evt_onDeactivate():this.evt_onActivate()}}]),t}())},21:function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=i(193),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={title:a.BUILD.GAME_TITLE,version:a.BUILD.VERSION,width:a.BUILD.WIDTH,height:a.BUILD.HEIGHT,backgroundColor:a.BUILD.BACKGROUND_COLOR,externals:a.BUILD.EXTERNAL_JS}}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,null,[{key:"getExternalOutputPaths",value:function(e){null==this.gameConfig&&(this.gameConfig=new t);for(var i=[],n=0;n<this.gameConfig.data.externals.length;n++)i.push(e+this.gameConfig.data.externals[n]);return i}},{key:"data",get:function(){return null==this.gameConfig&&(this.gameConfig=new t),this.gameConfig.data}}]),t}();t.exports=s}});